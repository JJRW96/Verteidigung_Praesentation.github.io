---
format:
  revealjs:
    embed-resources: true
    theme: white
    slide-number: true
    #chalkboard: 
      #buttons: true
    preview-links: true
    css: styles.css
    footer: "Link: [Website](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/about.html)"

---


# Verteidigung-Masterarbeit {.no-logo auto-animate="true" style="font-size: 0.55em; text-align: center; margin-top: -30px;"}

::: {style="text-align: center; font-size: 1.3em;"}
**Empirische Studie zum Wirkungsgrad:**<br>
**Ein Vergleich zwischen sitzendem und stehendem Fahren auf dem Fahrradergometer**
:::

![](./images/Logo_eta_2.png){.absolute top="200" left="400" width="0"}

::: {data-id="logo" style="background-image: url('images/Logo_eta_2.png'); background-size: contain; background-repeat: no-repeat; margin: 15px auto; margin-right: 412px; width: 200px; height: 200px; display: block;"}
:::

::: {style="text-align: center; font-size: 0.9em;"}
**Verfasser:**\
Johannes Joachim Richard Will

**Betreuerin:**\
Dr. Martina Clauß

**Gutachterinnen:**\
Dr. Martina Clauß\
Dr. Anna Katharina Dunst

**Datum:**\
11.02.2025
:::

## Umsetzung der Arbeit als Webseite {.show-logo}

-   Verwendung der Open-Source-Programmiersprache R und Quarto
-   Ermöglicht die Erstellung von Dokumenten, Präsentationen, Büchern oder Webseiten\
-   Unterstützung mehrerer Programmiersprachen (R, Python, Julia...)
-   Mithilfe von GitHub eine öffentlich zugängliche Webseite erstellt <br> <br>

:::::: columns
::: {.column width="33%"}
![](images/R_logo.png){width="auto" height="125" style="display: block; margin-left: auto; margin-right: auto;"}
:::

::: {.column width="33%"}
![](images/quarto.png){width="auto" height="120" style="display: block; margin-left: auto; margin-right: auto;"}
:::

::: {.column width="33%"}
![](images/github_logo.png){width="auto" height="115" style="display: block; margin-left: auto; margin-right: auto;"}
:::
::::::

## Möglichkeiten der Web-basierten Masterarbeit {.smaller .show-logo auto-animate="true" auto-animate-duration="1.5"}

-   Integration und Ausführung von Code-Segmenten direkt in der Arbeit
-   Erweiterte Möglichkeiten der Datenvisualisierung

```{r}
# Laden der benötigten Bibliotheken und Einlesen der Beispiel CSV-Datei
library(ggplot2); library(readr); library(tidyverse); library(readxl); library(DT)
df_spiro_beispiel <- read_delim("Spiro_Beispieldaten.csv", delim = ";", locale = locale(decimal_mark = ","))
```

```{r}
#| echo: true
#| fig-width: 10.0
#| fig-height: 3.0
#| warning: false
#| message: false

# Beispiel-Abbildung erstellen
ggplot(df_spiro_beispiel, aes(x = t_s)) +
  geom_line(aes(y = `V'O2`), color = "#1CADE4", size = 1) +
  geom_line(aes(y = `V'CO2`), color = "#EF5350", size = 1) +
  scale_x_continuous(limits = c(0, max(df_spiro_beispiel$t_s)),breaks = seq(0, max(df_spiro_beispiel$t_s), 100), 
                     expand = c(0, 0)) +
  scale_y_continuous(limits = c(0, 5),breaks = seq(0, 5, 1.0), labels = function(x) sprintf("%.1f", x)) +
  labs(x = "Zeit [s]", y = "V̇O₂ & V̇CO₂ [l · min⁻¹]") +
  theme_minimal()
```


## Möglichkeiten der Web-basierten Masterarbeit {.smaller .show-logo auto-animate="true" auto-animate-duration="1.5"}

-   Effiziente Verarbeitung und Einbindung großer Datensätze

```{r}
#| echo: true
#| warning: false
#| message: false

# Excel-Datensatz laden und darstellen
Stichprobe_df <- read_excel("Probanden_Daten 2.2.xlsm", sheet = "Stichprobe_final", range = "A1:Y10") %>%
  mutate(across(everything(), ~gsub(",", ".", .))) %>%
  mutate(across(-2, as.numeric)) %>%
  mutate(across(c(8, 10, 13, 15, 17, 19, 21, 23), ~round(., 2)))
datatable(Stichprobe_df, options = list(scrollX = TRUE, scrollY = "240px", dom = 't', order = list(list(0, 'asc')), 
                                        initComplete = JS("function(settings, json) {$(this.api().table().container()).css({'font-size': '70%'});}")), rownames = FALSE)
```

## Möglichkeiten der Web-basierten Masterarbeit {.smaller .show-logo auto-animate="true" auto-animate-duration="1.5"}

::: {style="font-size: var(--r-main-font-size);"}
-   Einbindung interaktiver Anwendungen (Shiny-Apps)
-   Transparente Darstellung des Quellcodes und der verwendeten Datensätze

<br>

::: {.fragment .r-stack}
**Sehr hohe Reproduzierbarkeit der Analysen und der Ergebnisse**
:::
:::

::: footer
Link: [Website/Anaerobe-alaktazide Energiebereitstellung](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/Anaerobe_alaktazide_Energiebereitstellung.html)
:::

## Wirkungsgrad beim Radfahren {.show-logo style="font-size: 0.85em"}
:::::: columns
::: {.column width="83%"}
- Wirkungsgrad als zentrale Größe der Energiekonversion beim Radfahren
- Präzise Berechnung möglich durch:
  - Messbare externe mechanische Leistung 
  - Messbaren metabolischen Energieumsatz
- Forschungsschwerpunkt auf sitzender Position
- Stehende Position trotz praktischer Relevanz wenig untersucht
  - 22-34% der Fahrtzeit bei Bergaufzeitfahren im Stehen (Steigung 5-7%)

::: {.fragment}
**→ Wirkungsgrad ein leistungsdeterminierender Parameter**<br>
**→ Fahren im Stehen eine energetisch gleichwertige Alternative?**
:::

:::

::: {.column width="17%"}
![](images/Innere%20Arbeit/kinematik_sitzen_cropped.gif){style="height: 240px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_cropped.gif){style="height: 240px; margin-bottom: 20px;"}
:::
::::::

::: notes
- Bergaufzeitfahren Bouillod & Grappe (2018b) und Harnish et al. (2007)
:::

::: footer
Link: [Website/Radfahren im Sitzen und Stehen](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Sitzen_Stehen.html)
:::

## Unterschiede: Sitzen vs. Stehen {.show-logo style="font-size: 0.85em"}

:::::: columns
::: {.column width="83%"}
::: {style="font-size: 0.93em"}
**Biomechanische Unterschiede:**

-   Körperschwerpunkt nach vorne verlagert
-   Niedrigere selbstgewählte Trittrate bei vergleichbarer Belastung
-   Höhere tangentiale Pedalkräfte
-   Zusätzliche Freiheitsgrade durch laterale Schwingungsmöglichkeit
-   Körpermasse nicht durch Sattel gestützt
    

**Veränderte Muskelaktivierung:**

-   ↓ Untere Beinmuskulatur
-   ↑ Obere Beinmuskulatur
-   ↑ Rumpf- & Oberkörpermuskulatur

:::
:::

::: {.column width="17%"}
![](images/Innere%20Arbeit/kinematik_sitzen_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: notes
-   Muskelaktivierung: (Arkesteijn et al., 2016; Berkemeier et al., 2020; Kistemaker et al., 2023; Li & Caldwell, 1998)
-   Komplexe biomechanische Änderungen
-   Differenzierte Muskelaktivierung
-   Leistungsvorteile bei hoher Intensität
:::

::: footer
Link: [Website/Radfahren im Sitzen und Stehen](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Sitzen_Stehen.html)
:::

## Unterschiede: Sitzen vs. Stehen {.show-logo style="font-size: 0.85em"}

:::::: columns
::: {.column width="83%"}
::: {style="font-size: 0.93em"}
**Intensitätsabhängige Effekte:**

-   Höhere maximale Kurzzeitleistung (30s) im Stehen möglich (+26%) 
-   Metabolische Beanspruchungsparameter ($\dot{V}O_{2,max}$ & Herzrate):
    -   Submaximal (<80% $\dot{V}O_{2,max}$): Erhöhte metabolische Beanspruchung im Stehen 
    -   Hochintensiv (>80% $\dot{V}O_{2,max}$): Angleichung zwischen den Positionen 
        
:::
:::

::: {.column width="17%"}
![](images/Innere%20Arbeit/kinematik_sitzen_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: notes
-   Höhere Kurzzeitleistung im Stehen möglich (+26%) (Millet et al., 2002)
-   Submaximal (<80% $\dot{V}O_{2,max}$) -> (Ryschon & Stray-Gundersen, 1991; Tanaka et al., 1996)
-   Hochintensiv (>80% $\dot{V}O_{2,max}$) -> (Hansen & Waldeland, 2008; Tanaka et al., 1996)
:::

::: footer
Link: [Website/Radfahren im Sitzen und Stehen](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Sitzen_Stehen.html)
:::

## Wirkungsgrad (η) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.85em"}

::: {style="font-size: 0.95em"}
-   Verhältnis zwischen verrichteter mechanischer Arbeit und aufgewendeter metabolischer Arbeit
-   Die nicht als mechanische Arbeit nutzbare Energie wird hauptsächlich in Form von Wärme abgegeben
-   Optimierung des η ermöglicht mehr mechanische Arbeit bei gleichem metabolischen Aufwand
:::

::: center
$$
\scriptsize
\text{η} = \frac{\text{W}_{mech} + \text{W}_{Int}}{\text{W}_{metabolisch}}
$$
:::

::::::::::::::: {.r-stack data-auto-animate-delay="0"}
::: {data-id="text1" style="position: absolute; bottom: 265px; left: 100px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Metabolische Arbeit
:::

::: {data-id="text3" style="position: absolute; bottom: 265px; left: 410px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Mechanische + Innere Arbeit
:::

::: {data-id="text5" style="position: absolute; bottom: 265px; left: 790px; text-align: center; width: 100px; font-size: 80%; white-space: nowrap;"}
η
:::

::: {data-id="box1" style="width: 100px; height: 20px; position: absolute; bottom: 0; left: 150px; background: repeating-linear-gradient(45deg, #42BA97, #42BA97 5px, #79cfb6 5px, #79cfb6 10px);"}
:::

::: {data-id="box2" style="background: #42BA97; width: 100px; height: 200px; position: absolute; bottom: 20px; left: 150px;"}
:::

::: {data-id="box3" style="background: #F4737A; width: 100px; height: 10px; position: absolute; bottom: 220px; left: 150px;"}
:::

::: {data-id="box4" style="background: #1CADE4; width: 100px; height: 20px; position: absolute; bottom: 230px; left: 150px;"}
:::

::: {data-id="arrow" style="position: absolute; bottom: 90px; left: 363px; font-size: 36px;"}
→
:::

::: {data-id="box5" style="background: #969696; width: 100px; height: 46px; position: absolute; bottom: 92px; left: 475px;"}
:::

::: {data-id="box6" style="background: #D9D9D9; width: 100px; height: 20px; position: absolute; bottom: 138px; left: 475px;"}
:::

::: {data-id="equals" style="position: absolute; bottom: 90px; left: 687px; font-size: 36px;"}
≈
:::

::: {data-id="percentage" style="position: absolute; bottom: 90px; left: 800px; font-size: 33px;"}
10-30%
:::
:::::::::::::::

::: notes
-   Ein bedeutender Teil dieser Wärme entsteht durch Reibungsprozesse

ATP = universeller Energieträger, muss ständig regeneriert werden
1. anaerobe-alaktazid
  - Kreatinphosphat-Spaltung
  - Sofort verfügbar, nur ca. 10 Sekunden
2. anaerobe-laktazid
  - Glykolyse ohne O~2~ -> erzeugt Laktat
  - Schnell verfügbar, mittlere Dauer
3. Aerob
  - Verstoffwechselung mit O~2~ (Kohlenhydrate/Fette)
  - Langsam verfügbar, lange Dauer
  - Hauptenergiequelle bei langen Belastungen
  
:::

::: footer
Link: [Website/Wirkungsgrad](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Wirkungsgrad_Theorie.html)
:::

## Bruttowirkungsgrad (η~Brutto~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.85em"}

-   Einfachste Berechnungsmethode auf Basis der aeroben Energiebereitstellung 
-   Stark von Ruheenergieumsatz beeinflusst, daher intensitätsabhängig
-   Abhängig von der Trittrate

::: center
$$
\scriptsize
\text{η}_{Brutto} = \frac{\text{W}_{mech}}{\text{W}_{Aerob}}
$$
:::

::::::::::: {.r-stack data-auto-animate-delay="0"}
::: {data-id="text1" style="position: absolute; bottom: 265px; left: 100px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Metabolische Arbeit
:::

::: {data-id="text3" style="position: absolute; bottom: 265px; left: 425px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Mechanische Arbeit
:::

::: {data-id="text5" style="position: absolute; bottom: 265px; left: 790px; text-align: center; width: 100px; font-size: 80%; white-space: nowrap;"}
η~Brutto~
:::

::: {data-id="box2" style="background: #42BA97; width: 100px; height: 250px; position: absolute; bottom: 0px; left: 150px;"}
:::

::: {data-id="arrow" style="position: absolute; bottom: 90px; left: 363px; font-size: 36px;"}
→
:::

::: {data-id="box5" style="background: #969696; width: 100px; height: 66px; position: absolute; bottom: 92px; left: 475px;"}
:::

::: {data-id="equals" style="position: absolute; bottom: 90px; left: 687px; font-size: 36px;"}
≈
:::

::: {data-id="percentage" style="position: absolute; bottom: 90px; left: 800px; font-size: 33px;"}
19-22%
:::
:::::::::::

::: footer
Link: [Website/Wirkungsgrad](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Wirkungsgrad_Theorie.html)
:::

::: notes
ATP = universeller Energieträger, muss ständig regeneriert werden
1. anaerobe-alaktazid
  - Kreatinphosphat-Spaltung
  - Sofort verfügbar, nur ca. 10 Sekunden
2. anaerobe-laktazid
  - Glykolyse ohne O~2~ -> erzeugt Laktat
  - Schnell verfügbar, mittlere Dauer
3. Aerob
  - Verstoffwechselung mit O~2~ (Kohlenhydrate/Fette)
  - Langsam verfügbar, lange Dauer
  - Hauptenergiequelle bei langen Belastungen
  
:::

## Nettowirkungsgrad (η~Netto~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.85em"}

-   Eliminiert den Einfluss des Ruheenergieumsatzes
-   Abhängig von der Trittrate

::: center
$$
\scriptsize
\text{η}_{Netto} = \frac{\text{W}_{mech}}{\text{W}_{Aerob} - \text{W}_{Ruhe}}
$$
:::

:::::::::::: {.r-stack data-auto-animate-delay="0"}
::: {data-id="text1" style="position: absolute; bottom: 265px; left: 100px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Metabolische Arbeit
:::

::: {data-id="text3" style="position: absolute; bottom: 265px; left: 425px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Mechanische Arbeit
:::

::: {data-id="text5" style="position: absolute; bottom: 265px; left: 790px; text-align: center; width: 100px; font-size: 80%; white-space: nowrap;"}
η~Netto~
:::

::: {data-id="box1" style="width: 100px; height: 20px; position: absolute; bottom: 0; left: 150px; background: repeating-linear-gradient(45deg, #42BA97, #42BA97 5px, #79cfb6 5px, #79cfb6 10px);"}
:::

::: {data-id="box2" style="background: #42BA97; width: 100px; height: 230px; position: absolute; bottom: 20px; left: 150px;"}
:::

::: {data-id="arrow" style="position: absolute; bottom: 90px; left: 363px; font-size: 36px;"}
→
:::

::: {data-id="box5" style="background: #969696; width: 100px; height: 66px; position: absolute; bottom: 92px; left: 475px;"}
:::

::: {data-id="equals" style="position: absolute; bottom: 90px; left: 687px; font-size: 36px;"}
≈
:::

::: {data-id="percentage" style="position: absolute; bottom: 90px; left: 800px; font-size: 33px;"}
19-24%
:::
::::::::::::

::: footer
Link: [Website/Wirkungsgrad](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Wirkungsgrad_Theorie.html)
:::

## Gesamtwirkungsgrad (η~Total~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.85em"}

::: {.columns}
::: {.column width="60%"}
- Berücksichtigt die anaeroben Komponenten des Energieumsatzes
- $\scriptsize \text{W}_{Tot} = \text{W}_{Aerob} + \text{W}_{BLC} + \text{W}_{PCr}$
- Abhängig von der Trittrate

::: center
$$
\scriptsize
\text{η}_{Total} = \frac{\text{W}_{mech}}{\text{W}_{Tot} - \text{W}_{Ruhe}}
$$

:::
:::

::: {.column width="40%"}
![](images/Energiebereitstellung.png)
:::
:::


:::::::::::::: {.r-stack data-auto-animate-delay="0"}
::: {data-id="text1" style="position: absolute; bottom: 265px; left: 100px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Metabolische Arbeit
:::

::: {data-id="text3" style="position: absolute; bottom: 265px; left: 425px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Mechanische Arbeit
:::

::: {data-id="text5" style="position: absolute; bottom: 265px; left: 790px; text-align: center; width: 100px; font-size: 80%; white-space: nowrap;"}
η~Total~
:::

::: {data-id="box1" style="width: 100px; height: 20px; position: absolute; bottom: 0; left: 150px; background: repeating-linear-gradient(45deg, #42BA97, #42BA97 5px, #79cfb6 5px, #79cfb6 10px);"}
:::

::: {data-id="box2" style="background: #42BA97; width: 100px; height: 201px; position: absolute; bottom: 20px; left: 150px;"}
:::

::: {data-id="box3" style="background: #F4737A; width: 100px; height: 10px; position: absolute; bottom: 220px; left: 150px;"}
:::

::: {data-id="box4" style="background: #1CADE4; width: 100px; height: 20px; position: absolute; bottom: 230px; left: 150px;"}
:::

::: {data-id="arrow" style="position: absolute; bottom: 90px; left: 363px; font-size: 36px;"}
→
:::

::: {data-id="box5" style="background: #969696; width: 100px; height: 66px; position: absolute; bottom: 92px; left: 475px;"}
:::

::: {data-id="equals" style="position: absolute; bottom: 90px; left: 687px; font-size: 36px;"}
≈
:::

::: {data-id="percentage" style="position: absolute; bottom: 90px; left: 800px; font-size: 33px;"}
? %
:::
::::::::::::::

::: notes
ATP = universeller Energieträger, muss ständig regeneriert werden
1. anaerobe-alaktazid
  - Kreatinphosphat-Spaltung
  - Sofort verfügbar, nur ca. 10 Sekunden
2. anaerobe-laktazid
  - Glykolyse ohne O~2~ -> erzeugt Laktat
  - Schnell verfügbar, mittlere Dauer
3. Aerob
  - Verstoffwechselung mit O~2~ (Kohlenhydrate/Fette)
  - Langsam verfügbar, lange Dauer
  - Hauptenergiequelle bei langen Belastungen
:::

::: footer
Link: [Website/Wirkungsgrad](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Wirkungsgrad_Theorie.html)
:::

## Arbeitswirkungsgrad (η~Arbeit~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.85em"}

-   Berücksichtigt metabolische Kosten der Leerbewegung 
-   Keine Abhängigkeit von der Trittrate

::: center
$$
\scriptsize
\text{η}_{Arbeit} = \frac{\text{W}_{mech}}{\text{W}_{Tot} - \text{W}_{Ruhe} - \text{W}_{Leerbewegung}}
$$
:::

::::::::::::::: {.r-stack data-auto-animate-delay="0"}
::: {data-id="text1" style="position: absolute; bottom: 265px; left: 100px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Metabolische Arbeit
:::

::: {data-id="text3" style="position: absolute; bottom: 265px; left: 425px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Mechanische Arbeit
:::

::: {data-id="text5" style="position: absolute; bottom: 265px; left: 790px; text-align: center; width: 100px; font-size: 80%; white-space: nowrap;"}
η~Arbeit~
:::

::: {data-id="box1" style="width: 100px; height: 20px; position: absolute; bottom: 0; left: 150px; background: repeating-linear-gradient(45deg, #42BA97, #42BA97 5px, #79cfb6 5px, #79cfb6 10px);"}
:::

::: {data-id="box2" style="background: #42BA97; width: 100px; height: 201px; position: absolute; bottom: 20px; left: 150px;"}
:::

::: {data-id="box3" style="background: #F4737A; width: 100px; height: 10px; position: absolute; bottom: 220px; left: 150px;"}
:::

::: {data-id="box4" style="background: #1CADE4; width: 100px; height: 20px; position: absolute; bottom: 230px; left: 150px;"}
:::

::: {data-id="box6" style="width: 100px; height: 20px; position: absolute; bottom: -20px; left: 150px; background: repeating-linear-gradient(45deg, #D9D9D9, #D9D9D9 5px, #BDBDBD 5px, #BDBDBD 10px);"}
:::

::: {data-id="arrow" style="position: absolute; bottom: 90px; left: 363px; font-size: 36px;"}
→
:::

::: {data-id="box5" style="background: #969696; width: 100px; height: 66px; position: absolute; bottom: 92px; left: 475px;"}
:::

::: {data-id="equals" style="position: absolute; bottom: 90px; left: 687px; font-size: 36px;"}
≈
:::

::: {data-id="percentage" style="position: absolute; bottom: 90px; left: 800px; font-size: 33px;"}
21-30%
:::
:::::::::::::::

::: notes
- Zusammen mit dem muskulären Wirk. die höchsten Werte
- Wobei hier in der Literatur in der Regel nicht die anaeroben Komponenten berücksichtigt wurden
  - Deshalb höher in der Literatur
:::

::: footer
Link: [Website/Wirkungsgrad](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Wirkungsgrad_Theorie.html)
:::

## Muskulärer Wirkungsgrad (η~muskulär~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.85em"}

-   Berücksichtigt die innere Arbeit
-   Keine Abhängigkeit von der Trittrate

::: center
$$
\scriptsize
\text{η}_{muskulär} = \frac{\text{W}_{mech} + \text{W}_{Int}}{\text{W}_{Tot} - \text{W}_{Ruhe}}
$$
:::

::::::::::::::: {.r-stack data-auto-animate-delay="0"}
::: {data-id="text1" style="position: absolute; bottom: 265px; left: 100px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Metabolische Arbeit
:::

::: {data-id="text3" style="position: absolute; bottom: 265px; left: 410px; text-align: center; width: 200px; font-size: 80%; white-space: nowrap;"}
Mechanische + Innere Arbeit
:::

::: {data-id="text5" style="position: absolute; bottom: 265px; left: 790px; text-align: center; width: 100px; font-size: 80%; white-space: nowrap;"}
η~muskulär~
:::

::: {data-id="box1" style="width: 100px; height: 20px; position: absolute; bottom: 0; left: 150px; background: repeating-linear-gradient(45deg, #42BA97, #42BA97 5px, #79cfb6 5px, #79cfb6 10px);"}
:::

::: {data-id="box2" style="background: #42BA97; width: 100px; height: 201px; position: absolute; bottom: 20px; left: 150px;"}
:::

::: {data-id="box3" style="background: #F4737A; width: 100px; height: 10px; position: absolute; bottom: 220px; left: 150px;"}
:::

::: {data-id="box4" style="background: #1CADE4; width: 100px; height: 20px; position: absolute; bottom: 230px; left: 150px;"}
:::

::: {data-id="arrow" style="position: absolute; bottom: 90px; left: 363px; font-size: 36px;"}
→
:::

::: {data-id="box5" style="background: #969696; width: 100px; height: 46px; position: absolute; bottom: 92px; left: 475px;"}
:::

::: {data-id="box6" style="background: #D9D9D9; width: 100px; height: 20px; position: absolute; bottom: 138px; left: 475px;"}
:::

::: {data-id="equals" style="position: absolute; bottom: 90px; left: 687px; font-size: 36px;"}
≈
:::

::: {data-id="percentage" style="position: absolute; bottom: 90px; left: 800px; font-size: 33px;"}
27-34%
:::
:::::::::::::::

::: notes
- Zusammen mit dem muskulären Wirk. die höchsten Werte
- Wobei hier in der Literatur in der Regel nicht die anaeroben Komponenten berücksichtigt wurden
  - Deshalb höher in der Literatur
:::

::: footer
Link: [Website/Wirkungsgrad](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Wirkungsgrad_Theorie.html)
:::

## Berechnung der Energieanteile {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.85em"}

::::::::::::: r-hstack
:::::::::::: {.columns style="width: 100%; display: flex; justify-content: space-evenly;"}
::::: {.column .fragment .fade-in width="33%" style="display: flex; flex-direction: column; align-items: center; text-align: center; font-size: 0.8em;"}
Aerobe Energiekomponente

::: {data-id="label1" style="position: absolute; bottom: 450px; z-index: 1; font-size: 1.0em;"}
W~Aerob~
:::

::: {data-id="box1" auto-animate-delay="0" style="background: #42BA97; width: 200px; height: 440px; margin: 10px; position: absolute; bottom: 0;"}
:::
:::::

::::: {.column .fragment .fade-in width="33%" style="display: flex; flex-direction: column; align-items: center; text-align: center; font-size: 0.8em;"}
Anaerobe-laktazide Energiekomponente

::: {data-id="label2" style="position: absolute; bottom: 30px; z-index: 1; font-size: 1.0em;"}
W~BLC~
:::

::: {data-id="box2" auto-animate-delay="0.1" style="background: #F4737A; width: 200px; height: 20px; margin: 10px; position: absolute; bottom: 0;"}
:::
:::::

::::: {.column .fragment .fade-in width="33%" style="display: flex; flex-direction: column; align-items: center; text-align: center; font-size: 0.8em;"}
Anaerobe-alaktazide Energiekomponente

::: {data-id="label3" style="position: absolute; bottom: 50px; z-index: 1; font-size: 1.0em;"}
W~PCr~
:::

::: {data-id="box3" auto-animate-delay="0.2" style="background: #1CADE4; width: 200px; height: 40px; margin: 10px; position: absolute; bottom: 0;"}
:::
:::::
::::::::::::
:::::::::::::

::: notes
ATP = universeller Energieträger, muss ständig regeneriert werden über die 3 Energiebereitstellungswege

- anaerobe-alaktazid
  - Kreatinphosphat-Spaltung
  - Sofort verfügbar, nur ca. 10 Sekunden
- anaerobe-laktazid
  - Glykolyse ohne O₂, erzeugt Laktat
  - Schnell verfügbar, mittlere Dauer
- Aerob
  - Verstoffwechselung mit O~2~ (Kohlenhydrate/Fette)
  - Langsam verfügbar, lange Dauer
  - Hauptenergiequelle bei langen Belastungen
  
:::

::: footer
Link: [Website/Energieumsatzberechnung](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/index_Energieumsatzberechnung.html)
:::

## Aerobe Energiekomponente (W~Aerob~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.82em"}

:::::::::: {.columns style="display: flex; width: 100%;"}
:::: {.column style="width: 75%; font-size: 0.85em; flex: 1 1 75%; min-width: 0;"}
-   Messung des Sauerstoffvolumenstrom in Ruhe $\dot{V}O_{2, Ruhe}(t)$ mittels Spirometrie und des kalorischen Äquivalents (kÄ) anhand des individuell gemessenen RQ (t)

-   Berechnung von W~Aerob~:

::: {style="margin-top: -1.2em;"}
$$
\scriptsize
\dot{V}O_{2,Netto}(t) = \dot{V}O_{2,Belastung}(t) - \dot{V}O_{2,Ruhe}(t)
\\
\scriptsize
W_{Aerob} = \overline{\dot{V}O_{2,Netto}} \cdot \overline{kÄ}_{Bel} \cdot t
$$
:::

![](images/VO2_plot.png)
::::

::::::: {.column style="width: 25%; display: flex; justify-content: center; flex: 0 0 25%;"}
:::::: r-stack
::: {data-id="box1" style="background: #42BA97; width: 200px; height: 440px; position: absolute; bottom: 0;"}
:::

::: {data-id="box2" style="background: rgba(244, 115, 122, 0.4); width: 200px; height: 20px; position: absolute; bottom: 440px;"}
:::

::: {data-id="box3" style="background: rgba(28, 173, 228, 0.4); width: 200px; height: 40px; position: absolute; bottom: 460px;"}
:::
::::::
:::::::
::::::::::

::: footer
Link: [Website/Aerobe Energiekomponente](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/Aerobe_Energiebereitstellung.html)
:::

## Aerobe Energiekomponente (W~Aerob~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.82em"}

::::::::::: {.columns style="display: flex; width: 100%;"}
::::: {.column style="width: 75%; font-size: 0.85em; flex: 1 1 75%; min-width: 0;"}
-   Berechnung des $\dot{V}O_{2, Ruhe}(t)$ nach Harris-Benedict (1918)

::: {style="margin-top: -1.2em;"}
$$
\scriptsize
\!\begin{aligned}
\text{Grundumsatz:} \rightarrow h_{f, m}\,[kcal] &= 
\begin{cases} 
h_{f} = 655.1 + (9.563 \cdot M) + (1.850 \cdot L) - (4.676 \cdot A)\\    
h_{m} = 66.5 \,+  (13.75 \cdot M) + (5.003 \cdot L) - (6.775 \cdot A) 
\end{cases}
\end{aligned}
$$

$$
\scriptsize
\!\begin{aligned}
\text{Ruheumsatz:} \rightarrow RMR_{f, m}\,[l \cdot min^{-1}] &= 
\begin{cases} 
RMR_{f} = \left( \frac{h_{f}}{24 \, \cdot 60 \cdot kÄ} \right) \cdot 4.1868 \cdot 1.278\\
RMR_{m} = \left( \frac{h_{m}}{24 \cdot 60 \cdot kÄ} \right) \cdot 4.1868 \cdot 1.287
\end{cases}
\end{aligned}
$$
:::

-   Berechnung von W~Aerob~:

::: {style="margin-top: -1.2em;"}
$$
\scriptsize
\dot{V}O_{2,Netto}(t) = \dot{V}O_{2,Belastung}(t) - \dot{V}O_{2,Ruhe}(t)
\\
\scriptsize
W_{Aerob} = \overline{\dot{V}O_{2,Netto}} \cdot \overline{kÄ}_{Bel} \cdot t
$$
:::
:::::

::::::: {.column style="width: 25%; display: flex; justify-content: center; flex: 0 0 25%;"}
:::::: r-stack
::: {data-id="box1" style="background: #42BA97; width: 200px; height: 440px; position: absolute; bottom: 0;"}
:::

::: {data-id="box2" style="background: rgba(244, 115, 122, 0.4); width: 200px; height: 20px; position: absolute; bottom: 440px;"}
:::

::: {data-id="box3" style="background: rgba(28, 173, 228, 0.4); width: 200px; height: 40px; position: absolute; bottom: 460px;"}
:::
::::::
:::::::
:::::::::::

::: footer
Link: [Website/Aerobe Energiekomponente](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/Aerobe_Energiebereitstellung.html)
:::

## Anaerobe-laktazide Energiekomponente (W~BLC~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.82em"}

::::::::: {.columns style="display: flex; width: 100%;"}
::: {.column style="width: 75%; font-size: 0.85em; flex: 1 1 75%; min-width: 0;"}
-   Berechnung von W~BLC~ aus:
    -   Blutlaktatwert vor Belastung (BLC~Pre~)
    -   Maximaler Laktatwert nach Belastung (BLC~max~)
    -   Nettoblutlaktatwert: BLC~Netto~ = BLC~max~ - BLC~Pre~

$$
\scriptsize
W_{BLC} \, [\text{kJ}] = 
\frac{
BLC_{Netto} \, [\text{mmol} \cdot \text{l}^{-1}] \cdot 
3.0 \, [\text{ml O}_2 \cdot \text{kg}^{-1} \cdot \text{mmol}^{-1} \cdot \text{l}] \cdot 
\text{Körpermasse} \, [\text{kg}] \cdot 
kÄ_{\text{KH}} \, [\text{J} \cdot \text{ml}^{-1} \,\text{O}_2]
    }{1000}
$$
:::

::::::: {.column style="width: 25%; display: flex; justify-content: center; flex: 0 0 25%;"}
:::::: r-stack
::: {data-id="box1" style="background: rgba(66, 186, 151, 0.4); width: 200px; height: 440px; position: absolute; bottom: 0;"}
:::

::: {data-id="box2" style="background: #F4737A; width: 200px; height: 20px; position: absolute; bottom: 440px;"}
:::

::: {data-id="box3" style="background: rgba(28, 173, 228, 0.4); width: 200px; height: 40px; position: absolute; bottom: 460px;"}
:::
::::::
:::::::
:::::::::

::: notes
-   Sauerstoff-Laktat-Äquivalent: 3.0 \[ml O~2~·kg^-1^·mmol^-1^·l\]
    - Menge O~2~ um ein mmol Laktat abzubauen   
-   Kalorisches Äquivalent für Kohlenhydrate (kÄ~KH~): 21.131 \[kJ·l^-1^ O~2~\] bei RQ = 1.0
:::

::: footer
Link: [Website/Anaerobe- laktazide Energiekomponente](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/Anaerobe_laktazide_Energiebereitstellung.html)
:::

## Anaerobe-alaktazide Energiekomponente (W~PCr~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.82em"}

::::::::: {.columns style="display: flex; width: 100%;"}
::: {.column style="width: 75%; font-size: 0.80em; flex: 1 1 75%; min-width: 0;"}
-   Bestimmung durch Excess Post-Exercise Oxygen Consumption (EPOC)
    -   Sauerstoffmenge nach Belastungsende über dem Ruhebedarf 
    -   EPOC~fast~: ATP/PCr- und O~2~-Speicher Wiederauffüllung (alaktazide anaerobe Energiebereitstellung)
    -   EPOC~slow~: Metabolische Nachbelastungseffekte (Sympathikusaktivität, HKS, Laktat)

![](images/EPOC_Astrand_mod.jpg){height="390px" style="margin-left: 50px;"}
:::

::::::: {.column style="width: 25%; display: flex; justify-content: center; flex: 0 0 25%;"}
:::::: r-stack
::: {data-id="box1" style="background: rgba(66, 186, 151, 0.4); width: 200px; height: 440px; position: absolute; bottom: 0;"}
:::

::: {data-id="box2" style="background: rgba(244, 115, 122, 0.4); width: 200px; height: 20px; position: absolute; bottom: 440px;"}
:::

::: {data-id="box3" style="background: #1CADE4; width: 200px; height: 40px; position: absolute; bottom: 460px;"}
:::
::::::
:::::::
:::::::::

::: footer
Link: [Website/Anaerobe- alaktazide Energiekomponente](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/Anaerobe_alaktazide_Energiebereitstellung.html)
:::

## Anaerobe-alaktazide Energiekomponente (W~PCr~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.82em"}

:::::::::: {.columns style="display: flex; width: 100%;"}
:::: {.column style="width: 75%; font-size: 0.85em; flex: 1 1 75%; min-width: 0;"}
-   Dreistufige EPOC-Modellierung mittels bi-exponentieller Funktion:

::: {style="margin-top: -1.2em;"}
$$
\scriptsize
\dot{V}O_{2EPOC}\,(t) = A_{fast} \cdot e^{-(t / \tau_{fast})} + A_{slow} \cdot e^{-(t / \tau_{slow})} + \dot{V}O_{2,Referenz}
$$
:::

1.  Bestimmung von $\tau$ zur zeitlichen Abgrenzung der Komponenten

::: {style="margin-top: -1.3em;"}
$$
\scriptsize
\dot{V}O_{2EPOC}\,(t) = A \cdot e^{-(t / \tau)} + C
$$
:::
::: {style="margin-top: -1.2em;"}
![](images/EPOC_tau.png){style="height: 400px; width: auto;"}
:::
::::

::::::: {.column style="width: 25%; display: flex; justify-content: center; flex: 0 0 25%;"}
:::::: r-stack
::: {data-id="box1" style="background: rgba(66, 186, 151, 0.4); width: 200px; height: 440px; position: absolute; bottom: 0;"}
:::

::: {data-id="box2" style="background: rgba(244, 115, 122, 0.4); width: 200px; height: 20px; position: absolute; bottom: 440px;"}
:::

::: {data-id="box3" style="background: #1CADE4; width: 200px; height: 40px; position: absolute; bottom: 460px;"}
:::
::::::
:::::::
::::::::::

::: notes
- Dreistufige Modellierung war robuster und ermöglichte breitere Grenzen der Modellparameter

-   $A_{fast}$: Amplitude der schnellen EPOC-Komponente
-   $A_{slow}$: Amplitude der langsamen EPOC-Komponente
-   $\tau_{fast}$: Zeitkonstante der schnellen Komponente
-   $\tau_{slow}$: Zeitkonstante der langsamen Komponente
-   $\dot{V}O_{2,Referenz}$: Referenz-Sauerstoffaufnahme
:::

::: footer
Link: [Website/Anaerobe- alaktazide Energiekomponente](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/Anaerobe_alaktazide_Energiebereitstellung.html)
:::

## Anaerobe-alaktazide Energiekomponente (W~PCr~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.82em"}

:::::::::: {.columns style="display: flex; width: 100%;"}
:::: {.column style="width: 75%; font-size: 0.85em; flex: 1 1 75%; min-width: 0;"}
-   Dreistufige EPOC-Modellierung mittels bi-exponentieller Funktion:

::: {style="margin-top: -1.2em;"}
$$
\scriptsize
\dot{V}O_{2EPOC}\,(t) = A_{fast} \cdot e^{-(t / \tau_{fast})} + A_{slow} \cdot e^{-(t / \tau_{slow})} + \dot{V}O_{2,Referenz}
$$
:::

2.  Modellierung der EPOC~slow~

::: {style="margin-top: -1.3em;"}
$$
\scriptsize
\dot{V}O_{2EPOC, slow}\,(t) = A_{slow} \cdot e^{-(t / \tau_{slow})} + \dot{V}O_{2,Referenz}
$$ 
:::
::: {style="margin-top: -1.2em;"}
![](images/EPOC_slow.png){style="height: 400px; width: auto;"}
:::
::::

::::::: {.column style="width: 25%; display: flex; justify-content: center; flex: 0 0 25%;"}
:::::: r-stack
::: {data-id="box1" style="background: rgba(66, 186, 151, 0.4); width: 200px; height: 440px; position: absolute; bottom: 0;"}
:::

::: {data-id="box2" style="background: rgba(244, 115, 122, 0.4); width: 200px; height: 20px; position: absolute; bottom: 440px;"}
:::

::: {data-id="box3" style="background: #1CADE4; width: 200px; height: 40px; position: absolute; bottom: 460px;"}
:::
::::::
:::::::
::::::::::

::: notes
-   $A_{fast}$: Amplitude der schnellen EPOC-Komponente
-   $A_{slow}$: Amplitude der langsamen EPOC-Komponente
-   $\tau_{fast}$: Zeitkonstante der schnellen Komponente
-   $\tau_{slow}$: Zeitkonstante der langsamen Komponente
-   $\dot{V}O_{2,Referenz}$: Referenz-Sauerstoffaufnahme
:::

::: footer
Link: [Website/Anaerobe- alaktazide Energiekomponente](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/Anaerobe_alaktazide_Energiebereitstellung.html)
:::

## Anaerobe-alaktazide Energiekomponente (W~PCr~) {.show-logo auto-animate="true" auto-animate-duration="1.2" style="font-size: 0.82em"}

:::::::::: {.columns style="display: flex; width: 100%;"}
:::: {.column style="width: 75%; font-size: 0.85em; flex: 1 1 75%; min-width: 0;"}
-   Dreistufige EPOC-Modellierung mittels bi-exponentieller Funktion:

::: {style="margin-top: -1.2em;"}
$$
\scriptsize
\dot{V}O_{2EPOC}\,(t) = A_{fast} \cdot e^{-(t / \tau_{fast})} + A_{slow} \cdot e^{-(t / \tau_{slow})} + \dot{V}O_{2,Referenz}
$$
:::

3.  Modellierung der EPOC~fast~ 

::: {style="margin-top: -1.05em;"}
![](images/EPOC.png){style="height: 400px; width: auto;"}
:::
::::

::::::: {.column style="width: 25%; display: flex; justify-content: center; flex: 0 0 25%;"}
:::::: r-stack
::: {data-id="box1" style="background: rgba(66, 186, 151, 0.4); width: 200px; height: 440px; position: absolute; bottom: 0;"}
:::

::: {data-id="box2" style="background: rgba(244, 115, 122, 0.4); width: 200px; height: 20px; position: absolute; bottom: 440px;"}
:::

::: {data-id="box3" style="background: #1CADE4; width: 200px; height: 40px; position: absolute; bottom: 460px;"}
:::
::::::
:::::::
::::::::::

::: notes
-   $A_{fast}$: Amplitude der schnellen EPOC-Komponente
-   $A_{slow}$: Amplitude der langsamen EPOC-Komponente
-   $\tau_{fast}$: Zeitkonstante der schnellen Komponente
-   $\tau_{slow}$: Zeitkonstante der langsamen Komponente
-   $\dot{V}O_{2,Referenz}$: Referenz-Sauerstoffaufnahme
:::

::: footer
Link: [Website/Anaerobe- alaktazide Energiekomponente](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Energieumsatzberechnung/Anaerobe_alaktazide_Energiebereitstellung.html)
:::

## Mechanische Gesamtarbeit {.show-logo style="font-size: 0.85em"}

-   Die mechanische Gesamtarbeit beim Radfahren setzt sich aus zwei Komponenten zusammen:

::: {style="margin-top: -1.2em;"}
$$
\scriptsize
\text{Mechanische Gesamtarbeit}\,\text{(W}_{mech,Tot}\text{)} = \text{Mechanischen Arbeit}\,\text{(W}_{mech}\text{)} + \text{Innere Arbeit}\,\text{(W}_{Int}\text{)}
$$
:::

::::: columns
::: {.column style="width: 75%;"}
![](images/Innere%20Arbeit/Innere_Leistung_Tokui.png){height="400px"}
:::

::: {.column style="width: 25%;"}
![](images/Innere%20Arbeit/kinematik_sitzen_cropped.gif){height="400px"}
:::
:::::

::: footer
Link: [Website/Mechanische Arbeit](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Mechanische_Arbeit.html)
:::

## Mechanische Arbeit (W~mech~) {.show-logo style="font-size: 0.85em"}

:::::: {.columns style="display: flex; width: 100%"}
:::: {.column style="width: 65%"}
-   Quantifizierung der mechanischen Arbeit (W~mech~)
    1.  Tangentialdrehmomente ($M_T(\theta)$) beider Pedale erfasst
    2.  Winkelgeschwindigkeit ($\omega(\theta)$) der Tretkurbel erfasst
    3.  $\bar{P}_{mech}(\theta) = \bar{M}_T(\theta) \cdot \bar{\omega}(\theta)$
    4.  $\bar{P}_{mech} = \bar{P}_{mech,links} + \bar{P}_{mech,rechts}$
    5.  $W_{mech} = \frac{\bar{P}_{mech} \cdot t}{1000}$

::: {style="text-align: center"}
![](images/Torque_Efficiency_Kreis.png)
:::
::::

::: {.column style="width: 35%"}
![](images/Pedalkraefte_Hillebrecht.png)
:::
::::::

::: {.notes}
-   $\theta$ = Kurbelwinkel (0° bis 360°)
-   Überstrich ($\bar{M}$) = Mittelwert über alle Umdrehungen
:::

::: footer
Link: [Website/Mechanische Arbeit](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Mechanische_Arbeit.html)
:::

## Tangentialleistung {.show-logo style="font-size: 0.85em"}

:::::: columns
::: {.column width="80%"}
![](images/P_schwer_sitzen.png) ![](images/P_schwer_stehen.png)
:::

::: {.column width="1%"}
:::

::: {.column width="19%"}
![](images/Innere%20Arbeit/kinematik_sitzen_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: footer
Link: [Website/Mechanische Arbeit](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Mechanische_Arbeit.html)
:::

## Innere Arbeit (W~Int~) {.show-logo style="font-size: 0.85em"}

-   Beschreibt die energetischen Aufwendungen für die Bewegung der unteren Extremitäten zur Aufrechterhaltung der zyklischen Tretbewegung
-   Segmente der unteren Extremitäten bewegen sich entlang eines spezifischen Pfades
-   Aus physikalischer Perspektive entsteht dabei keine Nettoarbeit

::::: columns
::: {.column style="width: 75%;"}
![](images/Innere%20Arbeit/Marker.png){height="400px"}
:::

::: {.column style="width: 25%;"}
![](images/Innere%20Arbeit/kinematik_stehen_cropped.gif){height="400px"}
:::
:::::

::: footer
Link: [Website/Innere Arbeit](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html)
:::

## Innere Arbeit (W~Int~) {.show-logo style="font-size: 0.85em"}

-   Beschreibt die energetischen Aufwendungen für die Bewegung der unteren Extremitäten zur Aufrechterhaltung der zyklischen Tretbewegung
-   Segmente der unteren Extremitäten bewegen sich entlang eines spezifischen Pfades
-   Aus physikalischer Perspektive entsteht dabei keine Nettoarbeit

:::::::: columns
:::::: {.column style="width: 75%;"}
::::: columns
::: {.column style="width: 50%;"}
![](images/Innere%20Arbeit/PInt_Simulation.png){height="400px"}
:::

::: {.column style="width: 50%;"}
![](images/Innere%20Arbeit/Viergelenkkette.png){height="400px"}
:::
:::::
::::::

::: {.column style="width: 25%;"}
![](images/Innere%20Arbeit/kinematik_sitzen_cropped.gif){height="400px"}
:::
::::::::

::: footer
Link: [Website/Innere Arbeit](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html)
:::

## Innere Arbeit (W~Int~) {.show-logo style="font-size: 0.85em"}

::::: columns
::: {.column width="75%"}
-   W~Int~ berechnet sich aus den Änderungen der kinetischen Energien der Segmente
    1.  Kinetische Energien der einzelnen Segmentschwerpunkte:
        -   Translatorisch: $E_{kin,trans} = \sum_{i} \frac{1}{2} m_i \cdot v_i^2$
        -   Rotatorisch: $E_{kin,rot} = \sum_{i} \frac{1}{2} I_i \cdot \omega_i^2$
    2.  Momentane innere Leistung
        -   $P_{Int}(t) = \frac{\Delta E_{kin}}{\Delta t}$
        -   Nur positive Leistungsanteile: $P_{Int,pos}(t) = max(0, P_{Int}(t))$
    3.  Mittlere innere Leistung
        -   $\bar{P}_{Int} = \bar{P}_{Int,links,pos} + \bar{P}_{Int,rechts,pos}$
    4.  Innere Arbeit
        -   $W_{Int} = \frac{\bar{P}_{Int} \cdot t}{1000}$
:::

::: {.column width="25%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){height="320px"}
:::
:::::

::: footer
Link: [Website/Innere Arbeit](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html)
:::

## Innere Arbeit (W~Int~) {.show-logo style="font-size: 0.55em"}

::: {style="margin-top: -1.2em;"}
![](images/Innere%20Arbeit/p_Int_Modell_Zyklus.png){height="320px"}
:::

::: {style="margin-top: -1.5em;"}
![](images/Innere%20Arbeit/p_Int_Modell_Zyklus_positiv.png){height="320px"}
:::

::: footer
Link: [Website/Innere Arbeit](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html)
:::

## Innere Arbeit (W~Int~) {.show-logo style="font-size: 0.85em"}

![](images/Innere Arbeit/P_Int.png){}



::: footer
Link: [Website/Innere Arbeit](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html)
:::

## Innere Arbeit nach Winter (1979) {.show-logo style="font-size: 0.85em"}

::::: columns
::: {.column width="75%"}
-   Unterschiede:
    1.  Integration der potentiellen Energie aller Segmentschwerpunkte
        -   $E_{pot} = m \cdot g \cdot h$
    2.  Einbeziehung des HAT-Segments (Kopf-Arme-Rumpf)
    3.  Vollständiger Energietransfer zwischen allen Segmenten
        -   $E_{gesamt}(t) = \sum_{i=1}^{N} [E_{pot}(i,t) + E_{kin,trans}(i,t) + E_{kin,rot}(i,t)]$
        -   Energieaustausch zwischen Segmenten möglich
:::

::: {.column width="25%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){style="height: 250px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_HAT_cropped.gif){style="height: 250px; margin-top: 20px; margin-bottom: 20px;"}
:::
:::::

```{r echo=FALSE, output=FALSE}
# Library und dfs laden
library(plotly)
library(ggplot2)
library(dplyr)
library(tidyr)
library(htmltools)
library(htmlwidgets)
library(shiny)
library(DT)
library(RColorBrewer)
library(patchwork)
library(minpack.lm)
library(zoo)
library(purrr)
library(readxl)

EPOC_data_df <- readRDS("rds/EPOC_data_df.rds")
Erg_data_df <- readRDS("rds/Erg_data_df.rds")
Erg_data_komplett <- readRDS("rds/Erg_data_komplett.rds")
Messwerte_Bedingungen_df <- readRDS("rds/Messwerte_Bedingungen_df.rds")
Messwerte_Intensitäten_df <- readRDS("rds/Messwerte_Intensitäten_df.rds")
Messwerte_Bedingung_Intensität_df <- readRDS("rds/Messwerte_Bedingung_Intensität_df.rds")
Bedingungen_data <- readRDS("rds/Bedingungen_data.rds")
P_Ges_df <- readRDS("rds/Efficiency_Daten_df.rds")
Efficiency_df <- readRDS("rds/Efficiency_Daten_df.rds")
P_Int_Drehzahl_Masse <- readRDS("rds/P_Int_Drehzahl_Masse.rds")
Simulation_df <- readRDS("rds/Simulation_df.rds")
ΔBLC_list <- readRDS("rds/BLC_list.rds")
proband_data <- readRDS("rds/proband_data.rds")
ΔBLC_data_df <- readRDS("rds/BLC_data_df.rds")
BLC_Modell_list <- readRDS("rds/BLC_Modell_list.rds")
Efficiency_Daten_df <- readRDS("rds/Efficiency_Daten_df.rds")
P_R_list <- readRDS("rds/P_R_list.rds")
P_L_list <- readRDS("rds/P_L_list.rds")
start_vals_list <- readRDS("rds/start_vals_list.rds")
VO2_list <- readRDS("rds/VO2_list.rds")
df_anthropometrisch_female <- readRDS("rds/df_anthropometrisch_female.rds")
df_anthropometrisch_male <- readRDS("rds/df_anthropometrisch_male.rds")
Kinematik_list <- readRDS("rds/Kinematik_list.rds")
```

```{r echo=FALSE, eval=FALSE}

###### Konstanten und Parameter ######
Masse <- Erg_data_df[Erg_data_df$Name == name, "Masse"]
uOS <- Erg_data_df[Erg_data_df$Name == name, "uOS"]
uUS <- Erg_data_df[Erg_data_df$Name == name, "uUS"]
lBein <- Erg_data_df[Erg_data_df$Name == name, "lBein"]
Faktor <- 1.0
S <- lBein * 0.883 * Faktor
rRelOS <- 0.1416
rRelUS <- 0.0433
lambdaOS <- 0.433
lambdaUS <- 0.433
mOS <- Masse * rRelOS
mUS <- Masse * rRelUS
thetaKurbel <- 0.002
  
##### Rechenweg ####

# Linkes Bein
L_phi1 = ifelse(atan2(L_P1y, L_P1x) < 0, atan2(L_P1y, L_P1x) + 2 * pi, atan2(L_P1y, L_P1x))
L_Grad = L_phi1 * (180 / pi)
delta_t = 1 / 100
L_delta_phi1 = corrected_delta_phi1(L_phi1)
L_omega = L_delta_phi1 / delta_t
L_nD = L_omega / (2 * pi) * 60
L_nD_avg = mean(L_omega, na.rm = TRUE) / (2 * pi) * 60

# Rechtes Bein
R_phi1 = ifelse(atan2(R_P1y, R_P1x) < 0, atan2(R_P1y, R_P1x) + 2 * pi, atan2(R_P1y, R_P1x))
R_Grad = R_phi1 * (180 / pi)
R_delta_phi1 = corrected_delta_phi1(R_phi1)
R_omega = R_delta_phi1 / delta_t

# Längen und Trägheitsmomente für beide Beine
L_lOS = sqrt((L_P3x-L_P2x)^2+(L_P3y-L_P2y)^2)
L_lUS = sqrt((L_P2x-LAJC_X)^2+(L_P2y-LAJC_Y)^2)
R_lOS = sqrt((R_P3x-R_P2x)^2+(R_P3y-R_P2y)^2)
R_lUS = sqrt((R_P2x-RAJC_X)^2+(R_P2y-RAJC_Y)^2)

L_lOS_avg = mean(L_lOS)
L_lUS_avg = mean(L_lUS)
R_lOS_avg = mean(R_lOS)
R_lUS_avg = mean(R_lUS)

thetaOS = (1/4) * mOS * (uOS / (2 * pi))^2 + (1/12) * mOS * L_lOS_avg^2
thetaUS = (1/4) * mUS * (uUS / (2 * pi))^2 + (1/12) * mUS * L_lUS_avg^2

# HAT Berechnungen
m_HAT = Masse * 0.678
lHAT = sqrt((HAT_COMx - L_P3x)^2 + (HAT_COMy - L_P3y)^2)
thetaHAT = m_HAT * (lHAT * 0.496)^2

# Schwerpunkte für beide Beine
L_SpOS_X = L_P3x - lambdaOS * (L_P3x-L_P2x)
L_SpOS_Y = L_P3y - lambdaOS * (L_P3y-L_P2y)
L_SpUS_X = L_P2x - lambdaOS * (L_P2x-LAJC_X)
L_SpUS_Y = L_P2y - lambdaOS * (L_P2y-LAJC_Y)

R_SpOS_X = R_P3x - lambdaOS * (R_P3x-R_P2x)
R_SpOS_Y = R_P3y - lambdaOS * (R_P3y-R_P2y)
R_SpUS_X = R_P2x - lambdaOS * (R_P2x-RAJC_X)
R_SpUS_Y = R_P2y - lambdaOS * (R_P2y-RAJC_Y)

# Geschwindigkeiten der Schwerpunkte
L_d_SpOS = sqrt((lead(L_SpOS_X) - L_SpOS_X)^2 + (lead(L_SpOS_Y) - L_SpOS_Y)^2)
L_d_SpUS = sqrt((lead(L_SpUS_X) - L_SpUS_X)^2 + (lead(L_SpUS_Y) - L_SpUS_Y)^2)
R_d_SpOS = sqrt((lead(R_SpOS_X) - R_SpOS_X)^2 + (lead(R_SpOS_Y) - R_SpOS_Y)^2)
R_d_SpUS = sqrt((lead(R_SpUS_X) - R_SpUS_X)^2 + (lead(R_SpUS_Y) - R_SpUS_Y)^2)

L_v_SpOS = ifelse(is.na(L_d_SpOS), NA, L_d_SpOS / delta_t)
L_v_SpUS = ifelse(is.na(L_d_SpUS), NA, L_d_SpUS / delta_t)
R_v_SpOS = ifelse(is.na(R_d_SpOS), NA, R_d_SpOS / delta_t)
R_v_SpUS = ifelse(is.na(R_d_SpUS), NA, R_d_SpUS / delta_t)

# HAT Bewegungen
d_HAT_COM = sqrt((lead(HAT_COMx) - HAT_COMx)^2 + (lead(HAT_COMy) - HAT_COMy)^2)
v_HAT_COM = ifelse(is.na(d_HAT_COM), NA, d_HAT_COM / delta_t)
phi_HAT = atan2(HAT_COMy - L_P3y, HAT_COMx - L_P3x)
omega_HAT = (lead(phi_HAT) - phi_HAT) / delta_t

# Winkel und Winkelgeschwindigkeiten für beide Beine
L_phi2 = acos((L_P2x-L_P1x) / L_lUS)
L_phi3 = acos((L_P3x-L_P2x) / L_lOS)
R_phi2 = acos((R_P2x-R_P1x) / R_lUS)
R_phi3 = acos((R_P3x-R_P2x) / R_lOS)

L_omega_SpOS = (lead(L_phi2) - L_phi2) / delta_t
L_omega_SpUS = (lead(L_phi3) - L_phi3) / delta_t
L_omega_Kurbel = (lead(L_phi2) - L_phi2) / delta_t

R_omega_SpOS = (lead(R_phi2) - R_phi2) / delta_t
R_omega_SpUS = (lead(R_phi3) - R_phi3) / delta_t
R_omega_Kurbel = (lead(R_phi2) - R_phi2) / delta_t

# Energieberechnungen für beide Beine
L_Ekin_rot_leg = 0.5 * (thetaOS * L_omega_SpOS^2 + thetaUS * L_omega_SpUS^2 + thetaKurbel * L_omega_Kurbel^2)
L_Ekin_trans_leg = 0.5 * (mOS * L_v_SpOS^2 + mUS * L_v_SpUS^2)
L_Ekin_leg = L_Ekin_rot_leg + L_Ekin_trans_leg
L_Epot_leg = (mOS * 9.81 * L_SpOS_Y) + (mUS * 9.81 * L_SpUS_Y)

R_Ekin_rot_leg = 0.5 * (thetaOS * R_omega_SpOS^2 + thetaUS * R_omega_SpUS^2 + thetaKurbel * R_omega_Kurbel^2)
R_Ekin_trans_leg = 0.5 * (mOS * R_v_SpOS^2 + mUS * R_v_SpUS^2)
R_Ekin_leg = R_Ekin_rot_leg + R_Ekin_trans_leg
R_Epot_leg = (mOS * 9.81 * R_SpOS_Y) + (mUS * 9.81 * R_SpUS_Y)

# Energieberechnungen für HAT
Ekin_trans_HAT = 0.5 * m_HAT * v_HAT_COM^2
Ekin_rot_HAT = 0.5 * thetaHAT * omega_HAT^2
Ekin_HAT = Ekin_trans_HAT + Ekin_rot_HAT
Epot_HAT = m_HAT * 9.81 * HAT_COMy

# Energieänderungen für beide Beine
L_delta_Ekin_rot_leg = lead(L_Ekin_rot_leg) - L_Ekin_rot_leg
L_delta_Ekin_trans_leg = lead(L_Ekin_trans_leg) - L_Ekin_trans_leg
L_delta_Epot_leg = lead(L_Epot_leg) - L_Epot_leg

R_delta_Ekin_rot_leg = lead(R_Ekin_rot_leg) - R_Ekin_rot_leg
R_delta_Ekin_trans_leg = lead(R_Ekin_trans_leg) - R_Ekin_trans_leg
R_delta_Epot_leg = lead(R_Epot_leg) - R_Epot_leg

# Energieänderungen für HAT
delta_Ekin_trans_HAT = lead(Ekin_trans_HAT) - Ekin_trans_HAT
delta_Ekin_rot_HAT = lead(Ekin_rot_HAT) - Ekin_rot_HAT
delta_Epot_HAT = lead(Epot_HAT) - Epot_HAT
delta_E_ges_HAT = delta_Ekin_trans_HAT + delta_Ekin_rot_HAT + delta_Epot_HAT

# Gesamte Energieänderung und Leistung für beide Beine
L_delta_E_ges = L_delta_Ekin_rot_leg + L_delta_Ekin_trans_leg + L_delta_Epot_leg + delta_E_ges_HAT
R_delta_E_ges = R_delta_Ekin_rot_leg + R_delta_Ekin_trans_leg + R_delta_Epot_leg + delta_E_ges_HAT

E_gesamt = L_Ekin_rot_leg + L_Ekin_trans_leg + L_Epot_leg +
R_Ekin_rot_leg + R_Ekin_trans_leg + R_Epot_leg +
Ekin_trans_HAT + Ekin_rot_HAT + Epot_HAT

# Energieänderungen berechnen
delta_E_gesamt = c(NA, diff(E_gesamt))

# Wint: nur positive Energieänderungen
Wint = pmax(0, delta_E_gesamt)

# PInt aus den positiven Energieänderungen
PInt_Kinematik = Wint / delta_t

PInt_Kinematik_HAT_avg = mean(PInt_Kinematik, na.rm = TRUE)
    
```

```{r echo=FALSE, output=FALSE}
library(readxl)
library(dplyr)
library(kableExtra)
library(ggplot2)
library(plotly)
library(RColorBrewer)
library(tidyr)
library(zoo)
library(htmlwidgets)
library(ggplot2)
library(minpack.lm) 

Kinematik_list_HAT <- readRDS("rds/Kinematik_list_HAT.rds")
Bedingungen_data <- readRDS("rds/Bedingungen_data.rds")

Erg_data_df_base <- readRDS("rds/Erg_data_df_base.rds")
Erg_data_df_base <- subset(Erg_data_df_base, !Proband %in% c(2, 3))

Erg_data_df <- Erg_data_df_base
Erg_data_df <- subset(Erg_data_df, !Proband %in% c(2, 3))

Erg_data_komplett <- readRDS("rds/Erg_data_komplett.rds")
Erg_data_komplett  <- subset(Erg_data_komplett , !Proband %in% c(2, 3))

###### PInt anhand der Kinematik Daten berechnen ######

# Initialisiere die Listen für die Ergebnisse
PInt_Kinematik_list_HAT <- list()
PInt_Kinematik_HAT_avg_list <- list()
plotly_Pint_list <- list()

# Schleife durch alle Einträge in Kinematik_list_HAT
for (name in names(Kinematik_list_HAT)) {
  # Lese die Daten ein
  df <- Kinematik_list_HAT[[name]]
  current_name <- name 
  Bedingung <- Erg_data_df$Bedingung[Erg_data_df$Name == current_name]
  
  # Entferne die erste und letzte Zeile und fügt Masse hinzu
  df <- df[-c(1, nrow(df)), ] %>% 
    mutate(Masse = Erg_data_df[Erg_data_df$Name == name, "Masse"])
  
  # Definiere die ausgewählten Spalten und deren neue Namen direkt
  selected_columns <- c(Frame = "Frame",
                        L_P0x = "Kurbelachse_X", L_P0y = "Kurbelachse_Y",
                        L_P3x = "LHJC_X", L_P3y = "LHJC_Y",
                        L_P2x = "LKJC_X", L_P2y = "LKJC_Y",
                        L_P1x = "LToe_X", L_P1y = "LToe_Y",
                        LAJC_X = "LAJC_X", LAJC_Y = "LAJC_Y",
                        HAT_COMx = "HAT_COM_X", HAT_COMy = "HAT_COM_Y")
  
  # Bestimme die Zykluslänge anhand der linken Seite
  phi1_left <- atan2(df$LToe_Y, df$LToe_X)
  phi1_left[phi1_left < 0] <- phi1_left[phi1_left < 0] + 2 * pi
  
  # Finde Zykluslänge
  starts <- which(abs(diff(phi1_left)) > pi)
  if(length(starts) >= 3) {  # Prüfe ob mindestens 3 Startpunkte gefunden wurden
    Laenge_Zyklus <- starts[3] - starts[2]  # Nimm den zweiten kompletten Zyklus
  } else if(length(starts) >= 2) {
    Laenge_Zyklus <- starts[2] - starts[1]  # Fallback auf ersten Zyklus
  } else {
    Laenge_Zyklus <- nrow(df)  # Fallback wenn keine klaren Zyklen gefunden
  }
  
  # Verschiebe die linken Koordinaten um einen halben Zyklus für die rechte Seite
  shift_amount <- round(Laenge_Zyklus/2)
  
  # Erstelle neue Spalten für die rechte Seite
  df$R_P0x <- c(df$Kurbelachse_X[-(1:shift_amount)], df$Kurbelachse_X[1:shift_amount])
  df$R_P0y <- c(df$Kurbelachse_Y[-(1:shift_amount)], df$Kurbelachse_Y[1:shift_amount])
  df$R_P3x <- c(df$LHJC_X[-(1:shift_amount)], df$LHJC_X[1:shift_amount])
  df$R_P3y <- c(df$LHJC_Y[-(1:shift_amount)], df$LHJC_Y[1:shift_amount])
  df$R_P2x <- c(df$LKJC_X[-(1:shift_amount)], df$LKJC_X[1:shift_amount])
  df$R_P2y <- c(df$LKJC_Y[-(1:shift_amount)], df$LKJC_Y[1:shift_amount])
  df$R_P1x <- c(df$LToe_X[-(1:shift_amount)], df$LToe_X[1:shift_amount])
  df$R_P1y <- c(df$LToe_Y[-(1:shift_amount)], df$LToe_Y[1:shift_amount])
  df$RAJC_X <- c(df$LAJC_X[-(1:shift_amount)], df$LAJC_X[1:shift_amount])
  df$RAJC_Y <- c(df$LAJC_Y[-(1:shift_amount)], df$LAJC_Y[1:shift_amount])
  
  # Definiere die ausgewählten Spalten und deren neue Namen
  selected_columns <- c(Frame = "Frame",
                        L_P0x = "Kurbelachse_X", L_P0y = "Kurbelachse_Y",
                        L_P3x = "LHJC_X", L_P3y = "LHJC_Y",
                        L_P2x = "LKJC_X", L_P2y = "LKJC_Y",
                        L_P1x = "LToe_X", L_P1y = "LToe_Y",
                        LAJC_X = "LAJC_X", LAJC_Y = "LAJC_Y",
                        R_P0x = "R_P0x", R_P0y = "R_P0y",
                        R_P3x = "R_P3x", R_P3y = "R_P3y",
                        R_P2x = "R_P2x", R_P2y = "R_P2y",
                        R_P1x = "R_P1x", R_P1y = "R_P1y",
                        RAJC_X = "RAJC_X", RAJC_Y = "RAJC_Y",
                        HAT_COMx = "HAT_COM_X", HAT_COMy = "HAT_COM_Y")
  
  # Nur ausgewälte Spalten
  df <- df %>%
    select(all_of(selected_columns))

  # Funktion, um korrekten Winkelunterschied für zyklische Bewegungen zu berechnen
  corrected_delta_phi1 <- function(phi1) {
    # Berechnet die Winkeldifferenz zwischen aufeinanderfolgenden Werten. Fügt 'NA' für den letzten Wert ein.
    delta_phi1 = diff(phi1)
    
    # Korrigiert die Winkeldifferenzen, die die Grenzen einer zyklischen Bewegung überschreiten.
    # Für Übergänge nahe der Grenzen (0 und 360 Grad oder 0 und 2*pi), passen wir die Differenz an, um korrekte kleine Werte zu erhalten statt großer Sprünge.
    delta_phi1 = ifelse(delta_phi1 > pi, delta_phi1 - 2*pi, delta_phi1)
    delta_phi1 = ifelse(delta_phi1 < -pi, delta_phi1 + 2*pi, delta_phi1)
    
    # Nimmt die letzten 3 Änderungen oder alle vorhandenen, falls weniger als 3
    num_values = min(length(delta_phi1), 3)
    last_values = tail(delta_phi1, num_values)
    
    # Berechnet die durchschnittliche Differenz der letzten Werte
    avg_difference = mean(last_values, na.rm = TRUE)
    
    # Fügt die durchschnittliche Differenz zum letzten verfügbaren Wert hinzu, um den nächsten Wert zu schätzen
    extrapolated_value = last(phi1) + avg_difference  # Der neue Wert basiert auf dem letzten phi1-Wert
    
    # Fügt den extrapolierten Wert zum Vektor hinzu
    delta_phi1 = c(delta_phi1, extrapolated_value - last(phi1))  # Differenz zum letzten phi1
    
    return(delta_phi1)
  }
  
  # Konstanten und Parameter
  Masse <- Erg_data_df[Erg_data_df$Name == name, "Masse"]
  uOS <- Erg_data_df[Erg_data_df$Name == name, "uOS"]
  uUS <- Erg_data_df[Erg_data_df$Name == name, "uUS"]
  lBein <- Erg_data_df[Erg_data_df$Name == name, "lBein"]
  Faktor <- 1.0
  S <- lBein * 0.883 * Faktor
  rRelOS <- 0.1416
  rRelUS <- 0.0433
  lambdaOS <- 0.433
  lambdaUS <- 0.433
  mOS <- Masse * rRelOS
  mUS <- Masse * rRelUS
  thetaKurbel <- 0.002
  
  # Berechne Energien für beide Beine
  df <- df %>%
    mutate(
      # Linkes Bein
      L_phi1 = ifelse(atan2(L_P1y, L_P1x) < 0, atan2(L_P1y, L_P1x) + 2 * pi, atan2(L_P1y, L_P1x)),
      L_Grad = L_phi1 * (180 / pi),
      delta_t = 1 / 100,
      L_delta_phi1 = corrected_delta_phi1(L_phi1),
      L_omega = L_delta_phi1 / delta_t,
      L_nD = L_omega / (2 * pi) * 60,
      L_nD_avg = mean(L_omega, na.rm = TRUE) / (2 * pi) * 60,
      
      # Rechtes Bein
      R_phi1 = ifelse(atan2(R_P1y, R_P1x) < 0, atan2(R_P1y, R_P1x) + 2 * pi, atan2(R_P1y, R_P1x)),
      R_Grad = R_phi1 * (180 / pi),
      R_delta_phi1 = corrected_delta_phi1(R_phi1),
      R_omega = R_delta_phi1 / delta_t,
      
      # Längen und Trägheitsmomente für beide Beine
      L_lOS = sqrt((L_P3x-L_P2x)^2+(L_P3y-L_P2y)^2),
      L_lUS = sqrt((L_P2x-LAJC_X)^2+(L_P2y-LAJC_Y)^2),
      R_lOS = sqrt((R_P3x-R_P2x)^2+(R_P3y-R_P2y)^2),
      R_lUS = sqrt((R_P2x-RAJC_X)^2+(R_P2y-RAJC_Y)^2),
      
      L_lOS_avg = mean(L_lOS),
      L_lUS_avg = mean(L_lUS),
      R_lOS_avg = mean(R_lOS),
      R_lUS_avg = mean(R_lUS),
      
      thetaOS = (1/4) * mOS * (uOS / (2 * pi))^2 + (1/12) * mOS * L_lOS_avg^2,
      thetaUS = (1/4) * mUS * (uUS / (2 * pi))^2 + (1/12) * mUS * L_lUS_avg^2,
      
      # HAT Berechnungen
      m_HAT = Masse * 0.678,
      lHAT = sqrt((HAT_COMx - L_P3x)^2 + (HAT_COMy - L_P3y)^2),
      thetaHAT = m_HAT * (lHAT * 0.496)^2,
      
      # Schwerpunkte für beide Beine
      L_SpOS_X = L_P3x - lambdaOS * (L_P3x-L_P2x),
      L_SpOS_Y = L_P3y - lambdaOS * (L_P3y-L_P2y),
      L_SpUS_X = L_P2x - lambdaOS * (L_P2x-LAJC_X),
      L_SpUS_Y = L_P2y - lambdaOS * (L_P2y-LAJC_Y),
      
      R_SpOS_X = R_P3x - lambdaOS * (R_P3x-R_P2x),
      R_SpOS_Y = R_P3y - lambdaOS * (R_P3y-R_P2y),
      R_SpUS_X = R_P2x - lambdaOS * (R_P2x-RAJC_X),
      R_SpUS_Y = R_P2y - lambdaOS * (R_P2y-RAJC_Y),
      
      # Geschwindigkeiten der Schwerpunkte
      L_d_SpOS = sqrt((lead(L_SpOS_X) - L_SpOS_X)^2 + (lead(L_SpOS_Y) - L_SpOS_Y)^2),
      L_d_SpUS = sqrt((lead(L_SpUS_X) - L_SpUS_X)^2 + (lead(L_SpUS_Y) - L_SpUS_Y)^2),
      R_d_SpOS = sqrt((lead(R_SpOS_X) - R_SpOS_X)^2 + (lead(R_SpOS_Y) - R_SpOS_Y)^2),
      R_d_SpUS = sqrt((lead(R_SpUS_X) - R_SpUS_X)^2 + (lead(R_SpUS_Y) - R_SpUS_Y)^2),
      
      L_v_SpOS = ifelse(is.na(L_d_SpOS), NA, L_d_SpOS / delta_t),
      L_v_SpUS = ifelse(is.na(L_d_SpUS), NA, L_d_SpUS / delta_t),
      R_v_SpOS = ifelse(is.na(R_d_SpOS), NA, R_d_SpOS / delta_t),
      R_v_SpUS = ifelse(is.na(R_d_SpUS), NA, R_d_SpUS / delta_t),
      
      # HAT Bewegungen
      d_HAT_COM = sqrt((lead(HAT_COMx) - HAT_COMx)^2 + (lead(HAT_COMy) - HAT_COMy)^2),
      v_HAT_COM = ifelse(is.na(d_HAT_COM), NA, d_HAT_COM / delta_t),
      phi_HAT = atan2(HAT_COMy - L_P3y, HAT_COMx - L_P3x),
      omega_HAT = (lead(phi_HAT) - phi_HAT) / delta_t,
      
      # Winkel und Winkelgeschwindigkeiten für beide Beine
      L_phi2 = acos((L_P2x-L_P1x) / L_lUS),
      L_phi3 = acos((L_P3x-L_P2x) / L_lOS),
      R_phi2 = acos((R_P2x-R_P1x) / R_lUS),
      R_phi3 = acos((R_P3x-R_P2x) / R_lOS),
      
      L_omega_SpOS = (lead(L_phi2) - L_phi2) / delta_t,
      L_omega_SpUS = (lead(L_phi3) - L_phi3) / delta_t,
      L_omega_Kurbel = (lead(L_phi2) - L_phi2) / delta_t,
      
      R_omega_SpOS = (lead(R_phi2) - R_phi2) / delta_t,
      R_omega_SpUS = (lead(R_phi3) - R_phi3) / delta_t,
      R_omega_Kurbel = (lead(R_phi2) - R_phi2) / delta_t,
      
      # Energieberechnungen für beide Beine
      L_Ekin_rot_leg = 0.5 * (thetaOS * L_omega_SpOS^2 + thetaUS * L_omega_SpUS^2 + thetaKurbel * L_omega_Kurbel^2),
      L_Ekin_trans_leg = 0.5 * (mOS * L_v_SpOS^2 + mUS * L_v_SpUS^2),
      L_Ekin_leg = L_Ekin_rot_leg + L_Ekin_trans_leg,
      L_Epot_leg = (mOS * 9.81 * L_SpOS_Y) + (mUS * 9.81 * L_SpUS_Y),
      
      R_Ekin_rot_leg = 0.5 * (thetaOS * R_omega_SpOS^2 + thetaUS * R_omega_SpUS^2 + thetaKurbel * R_omega_Kurbel^2),
      R_Ekin_trans_leg = 0.5 * (mOS * R_v_SpOS^2 + mUS * R_v_SpUS^2),
      R_Ekin_leg = R_Ekin_rot_leg + R_Ekin_trans_leg,
      R_Epot_leg = (mOS * 9.81 * R_SpOS_Y) + (mUS * 9.81 * R_SpUS_Y),
      
      # Energieberechnungen für HAT
      Ekin_trans_HAT = 0.5 * m_HAT * v_HAT_COM^2,
      Ekin_rot_HAT = 0.5 * thetaHAT * omega_HAT^2,
      Ekin_HAT = Ekin_trans_HAT + Ekin_rot_HAT,
      Epot_HAT = m_HAT * 9.81 * HAT_COMy,
      
      # Energieänderungen für beide Beine
      L_delta_Ekin_rot_leg = lead(L_Ekin_rot_leg) - L_Ekin_rot_leg,
      L_delta_Ekin_trans_leg = lead(L_Ekin_trans_leg) - L_Ekin_trans_leg,
      L_delta_Epot_leg = lead(L_Epot_leg) - L_Epot_leg,
      
      R_delta_Ekin_rot_leg = lead(R_Ekin_rot_leg) - R_Ekin_rot_leg,
      R_delta_Ekin_trans_leg = lead(R_Ekin_trans_leg) - R_Ekin_trans_leg,
      R_delta_Epot_leg = lead(R_Epot_leg) - R_Epot_leg,
      
      # Energieänderungen für HAT
      delta_Ekin_trans_HAT = lead(Ekin_trans_HAT) - Ekin_trans_HAT,
      delta_Ekin_rot_HAT = lead(Ekin_rot_HAT) - Ekin_rot_HAT,
      delta_Epot_HAT = lead(Epot_HAT) - Epot_HAT,
      delta_E_ges_HAT = delta_Ekin_trans_HAT + delta_Ekin_rot_HAT + delta_Epot_HAT,
      
      # Gesamte Energieänderung und Leistung für beide Beine
      L_delta_E_ges = L_delta_Ekin_rot_leg + L_delta_Ekin_trans_leg + L_delta_Epot_leg + delta_E_ges_HAT,
      R_delta_E_ges = R_delta_Ekin_rot_leg + R_delta_Ekin_trans_leg + R_delta_Epot_leg + delta_E_ges_HAT,
      
      E_gesamt = L_Ekin_rot_leg + L_Ekin_trans_leg + L_Epot_leg + 
        R_Ekin_rot_leg + R_Ekin_trans_leg + R_Epot_leg +
        Ekin_trans_HAT + Ekin_rot_HAT + Epot_HAT
    ) %>%
    slice(1:(n() - 2))
  
  # Funktion zur Ausreißerbehandlung
  fensterbreite <- 15
  fensterbreite_mittel <- 10
  fensterbreite_klein <- 5
  
  handle_outliers <- function(df, column_name) {
    # Berechne Quartile und IQR
    Q1 <- quantile(df[[column_name]], 0.25, na.rm = TRUE)
    Q3 <- quantile(df[[column_name]], 0.75, na.rm = TRUE)
    IQR <- Q3 - Q1
    
    # Definiere Grenzen
    lower_bound <- Q1 - 1.5 * IQR
    upper_bound <- Q3 + 1.5 * IQR
    
    # Ersetze Ausreißer mit NA
    df[[column_name]] <- ifelse(df[[column_name]] < lower_bound | df[[column_name]] > upper_bound, 
                                NA, df[[column_name]])
    
    # Imputiere NA-Werte
    for (i in 1:length(df[[column_name]])) {
      if (is.na(df[[column_name]][i])) {
        valid_indices_above <- which(!is.na(df[[column_name]][i:min(i+2, nrow(df))]))
        valid_indices_below <- which(!is.na(df[[column_name]][max(i-2, 1):i]))
        
        if (length(valid_indices_above) > 0 && length(valid_indices_below) > 0) {
          upper_mean <- mean(df[[column_name]][i + valid_indices_above], na.rm = TRUE)
          lower_mean <- mean(df[[column_name]][i - valid_indices_below], na.rm = TRUE)
          df[[column_name]][i] <- mean(c(upper_mean, lower_mean), na.rm = TRUE)
        } else if (length(valid_indices_above) > 0) {
          df[[column_name]][i] <- mean(df[[column_name]][i + valid_indices_above], na.rm = TRUE)
        } else if (length(valid_indices_below) > 0) {
          df[[column_name]][i] <- mean(df[[column_name]][i - valid_indices_below], na.rm = TRUE)
        }
      }
    }
    
    return(df)
  }
  
  # Liste der Energiespalten
  energy_columns <- c(
    "L_Ekin_rot_leg",      
    "L_Ekin_trans_leg",    
    "L_Epot_leg",          
    "R_Ekin_rot_leg",      
    "R_Ekin_trans_leg",    
    "R_Epot_leg",          
    "Ekin_trans_HAT",      
    "Ekin_rot_HAT",        
    "Epot_HAT",            
    "R_Ekin_leg",          
    "L_Ekin_leg",          
    "Ekin_HAT",
    "E_gesamt"
  )
  
  # Ausreißer für alle Spalten entfernen
  for (col in energy_columns) {
    df <- handle_outliers(df, col)
  }
  
  
  # Frame manuell bearbeiten falls fehlerhaft
  df$Frame <- as.numeric(df$Frame)
  df <- df %>%
    filter(case_when(
      current_name == "01_1" ~ Frame <= 954,
      current_name == "01_2" ~ Frame <= 930,
      current_name == "01_3" ~ Frame <= 954,
      current_name == "06_2" ~ Frame <= 952,
      current_name == "06_4" ~ Frame >= 119,
      current_name == "06_6" ~ Frame <= 390 | Frame > 551,
      current_name == "15_2" ~ Frame <= 926,
      current_name == "15_4" ~ Frame <= 940,
      current_name == "15_5" ~ Frame <= 939,
      current_name == "15_6" ~ Frame <= 977,
      current_name == "19_2" ~ Frame <= 980,
      current_name == "19_3" ~ Frame <= 983,
      current_name == "19_5" ~ Frame <= 957,
      TRUE ~ TRUE
    ))
  
  # Filterung der Frames 
  df <- df %>%
    mutate(Frame = as.numeric(as.character(Frame))) %>%
    filter(Frame >= Laenge_Zyklus) %>%
    filter(Frame <= max(Frame) - (max(Frame) %% Laenge_Zyklus))
  
  # Wint und Pint aus den ungeglätteten Daten berechnen
  df <- df %>%
    mutate(
      # Energieänderungen berechnen
      delta_E_gesamt = c(NA, diff(E_gesamt)),
      
      # Wint: nur positive Energieänderungen
      Wint = pmax(0, delta_E_gesamt),
      
      # PInt aus den positiven Energieänderungen
      PInt_Kinematik = Wint / delta_t,
      PInt_Kinematik_HAT_avg = mean(PInt_Kinematik, na.rm = TRUE)
    )
  
  # Teil 2: Neue geglättete Spalten erstellen
  for (col in energy_columns) {
    # Neue Spalte mit _smooth Suffix erstellen
    smooth_col <- paste0(col, "_smooth")
    # Glättung mit definierter Fensterbreite durchführen
    df[[smooth_col]] <- stats::filter(df[[col]], 
                                      rep(1/fensterbreite, fensterbreite), 
                                      sides = 2)
  }
  
  # Pint und Wint nach Glättung berechnen
  #df <- df %>%
    # Energieänderungen berechnen
    #mutate(delta_E_gesamt = c(NA, diff(E_gesamt)),
           
           # Wint: nur positive Energieänderungen
           #Wint = pmax(0, delta_E_gesamt),
           
           # PInt aus den positiven Energieänderungen
           #PInt_Kinematik = Wint / delta_t,
           #PInt_Kinematik_avg = mean(PInt_Kinematik, na.rm = TRUE))
  
  # Ausreißerbehandlung für PInt_Kinematik
  df <- handle_outliers(df, "PInt_Kinematik")
  
  # Glättung für PInt_Kinematik
  df$PInt_Kinematik_smooth <- stats::filter(df$PInt_Kinematik,rep(1/fensterbreite_klein, fensterbreite_klein),sides = 2)
  # Glättung für WInt
  df$WInt_smooth <- stats::filter(df$Wint, rep(1/fensterbreite_klein, fensterbreite_klein), sides = 2)
  # Glättung für delta_E_gesamt
  df$delta_E_gesamt_smooth <- stats::filter(df$delta_E_gesamt, rep(1/fensterbreite_klein, fensterbreite_klein), sides = 2)
  
  # Berechne PInt Durchschnittswerte mit der geglätteten Version
  #PInt_Kinematik_HAT_avg = mean(df$PInt_Kinematik, na.rm = TRUE)
  
  # Speichere das bearbeitete DataFrame
  PInt_Kinematik_list_HAT[[name]] <- df
  
  # Berechne Mittelwert von nD_avg für Plots
  mean_nD_avg <- mean(df$L_nD_avg, na.rm = TRUE)
  
  df$Epot_gesamt_smooth <- df$Epot_HAT_smooth + df$L_Epot_leg_smooth + df$R_Epot_leg_smooth
  df$Ekin_gesamt_smooth <- df$Ekin_HAT_smooth + df$L_Ekin_leg_smooth + df$R_Ekin_leg_smooth
  
  df$Ekin_trans_gesamt_smooth <- df$Ekin_trans_HAT_smooth + df$L_Ekin_trans_leg_smooth + df$R_Ekin_trans_leg_smooth
  df$Ekin_rot_gesamt_smooth <- df$Ekin_rot_HAT_smooth + df$L_Ekin_rot_leg_smooth + df$R_Ekin_rot_leg_smooth
  
  PInt_Kinematik_HAT_avg = mean(df$PInt_Kinematik_HAT_avg, na.rm = TRUE)
  
  PInt_Kinematik_HAT_avg_list[[name]] <- list(
    Laenge_Zyklus = Laenge_Zyklus,
    nD = mean_nD_avg,
    PInt_Kinematik_HAT_avg = PInt_Kinematik_HAT_avg
  )
  
  plot1 <- plot_ly(df, x = ~Frame, y = ~PInt_Kinematik_smooth, type = "scatter", mode = "lines", 
                   name = "P<sub>Int</sub>", line = list(color = '#80CDC1')) %>%
    add_trace(x = c(min(df$Frame), max(df$Frame)), 
              y = rep(PInt_Kinematik_HAT_avg, 2),
              type = "scatter",
              mode = "lines",
              line = list(color = "lightgray", dash = "dash"),
              showlegend = FALSE) %>%
    add_annotations(x = min(df$Frame),
                    y = PInt_Kinematik_HAT_avg,
                    text = paste("P<sub>Int</sub> =", round(PInt_Kinematik_HAT_avg, 2), "Watt"),
                    showarrow = FALSE,
                    yanchor = "bottom",
                    xanchor = "left",
                    yshift = 10) %>%
    layout(margin = list(t = 40),
           xaxis = list(
             title = "Frame", 
             dtick = 50,
             range = c(100, 800)
                     ),
           yaxis = list(
             title = "P<sub>Int</sub> [Watt]", 
             range = c(0, 300)
           ),
          legend = list(
              x = 0.98,
              y = 0.995,
              xanchor = 'right',
              yanchor = 'top',
              orientation = 'h',
              bgcolor = "rgba(0,0,0,0)"
          ),
           annotations = list(
             list(
               x = 0.00, y = 0.98, xref = 'paper', yref = 'paper',
               text = paste("Drehzahl =", round(mean_nD_avg, 2), "U · min<sup>-1</sup>"),
               showarrow = FALSE,
               font = list(size = 12)
             )
           ))

  plot2 <- plot_ly(df, x = ~Frame, y = ~delta_E_gesamt_smooth, type = "scatter", mode = "lines", 
                   name = "ΔE<sub>Gesamt</sub>", line = list(color = "#35978F")) %>%
    layout(margin = list(t = 40),
           yaxis = list(
             title = "ΔE<sub>Gesamt</sub> [J]", 
             dtick = 1, 
             range = c(-5, 5)
           ),
           xaxis = list(
             title = "Frame", 
             dtick = 50,
             range = c(100, 800)
                     ),
          legend = list(
              x = 0.98,
              y = 0.995,
              xanchor = 'right',
              yanchor = 'top',
              orientation = 'h',
              bgcolor = "rgba(0,0,0,0)"
          ),
           annotations = list(
             list(
               x = 0.00, y = 0.98, xref = 'paper', yref = 'paper',
               text = paste("Drehzahl =", round(mean_nD_avg, 2), "U · min<sup>-1</sup>"),
               showarrow = FALSE,
               font = list(size = 12)
             )
           ))
  
  
  plot3 <- plot_ly(df, x = ~Frame, y = ~WInt_smooth, type = "scatter", mode = "lines", 
                   name = "W<sub>Int<sub>", line = list(color = "#9C85C0")) %>%
    layout(margin = list(t = 40),
           yaxis = list(
             title = "W<sub>Int</sub> [J]", 
             dtick = 0.5, 
             range = c(0, 5.0)
           ),
           xaxis = list(
             title = "Frame", 
             dtick = 50,
             range = c(100, 800)
                     ),
          legend = list(
              x = 0.98,
              y = 0.995,
              xanchor = 'right',
              yanchor = 'top',
              orientation = 'h',
              bgcolor = "rgba(0,0,0,0)"
          ),
           annotations = list(
             list(
               x = 0.00, y = 0.98, xref = 'paper', yref = 'paper',
               text = paste("Drehzahl =", round(mean_nD_avg, 2), "U · min<sup>-1</sup>"),
               showarrow = FALSE,
               font = list(size = 12)
             )
           ))
  
  plot4 <- plot_ly(df, x = ~Frame, y = ~Epot_HAT_smooth, type = "scatter", mode = "lines", 
                   name = "E<sub>Pot,HAT</sub>", line = list(color = "#2683C6")) %>%
    add_trace(y = ~R_Epot_leg_smooth, name = "E<sub>Pot,,Rechts</sub>", mode = "lines", 
              line = list(color = "#62A39F")) %>%
    add_trace(y = ~L_Epot_leg_smooth, name = "E<sub>Pot,,Links</sub>", mode = "lines", 
              line = list(color = "#C8133B")) %>%
    add_trace(y = ~Epot_gesamt_smooth, name = "E<sub>Pot,,Gesamt</sub>", mode = "lines",
              line = list(color = "darkgrey", dash = "dot")) %>%
    layout(margin = list(t = 40),
           yaxis = list(
             title = "E<sub>Pot</sub> [J]", 
             dtick = 100, 
             range = c(0, 700)
           ),
           xaxis = list(
             title = "Frame", 
             dtick = 50,
             range = c(100, 800)
                     ),
          legend = list(
              x = 0.98,
              y = 0.995,
              xanchor = 'right',
              yanchor = 'top',
              orientation = 'h',
              bgcolor = "rgba(0,0,0,0)"
          ),
           annotations = list(
             list(
               x = 0.00, y = 0.98, xref = 'paper', yref = 'paper',
               text = paste("Drehzahl =", round(mean_nD_avg, 2), "U · min<sup>-1</sup>"),
               showarrow = FALSE,
               font = list(size = 12)
             )
           ))
  
  
  plot5 <- plot_ly(df, x = ~Frame, y = ~Ekin_trans_HAT, type = "scatter", mode = "lines", 
                   name = "E<sub>Kin,trans,HAT</sub>", line = list(color = "#1CADE4")) %>%
    add_trace(y = ~R_Ekin_trans_leg_smooth, name = "E<sub>Kin,trans,Rechts</sub>", mode = "lines", 
              line = list(color = "#42BA97")) %>%
    add_trace(y = ~L_Ekin_trans_leg_smooth, name = "E<sub>Kin,trans,Links</sub>", mode = "lines", 
              line = list(color = "#F4737A")) %>%
    add_trace(y = ~Ekin_trans_gesamt_smooth, name = "E<sub>Kin,trans,Gesamt</sub>", mode = "lines",
              line = list(color = "darkgrey", dash = "dot")) %>%
    layout(margin = list(t = 40),
           yaxis = list(
             title = "E<sub>Kin,trans</sub> [J]", 
             dtick = 5.0, 
             range = c(0, 20.0),
             tickformat = ".1f"
           ),
           xaxis = list(
             title = "Frame", 
             dtick = 50,
             range = c(100, 800)
                     ),
          legend = list(
              x = 0.98,
              y = 0.995,
              xanchor = 'right',
              yanchor = 'top',
              orientation = 'h',
              bgcolor = "rgba(0,0,0,0)"
          ),
           annotations = list(
             list(
               x = 0.00, y = 0.98, xref = 'paper', yref = 'paper',
               text = paste("Drehzahl =", round(mean_nD_avg, 2), "U · min<sup>-1</sup>"),
               showarrow = FALSE,
               font = list(size = 12)
             )
           ))
  
  plot6 <- plot_ly(df, x = ~Frame, y = ~Ekin_rot_HAT_smooth, type = "scatter", mode = "lines", 
                   name = "E<sub>Kin,rot,HAT</sub>", line = list(color = "#1CADE4")) %>%
    add_trace(y = ~R_Ekin_rot_leg_smooth, name = "E<sub>Kin,rot,Rechts</sub>", mode = "lines", 
              line = list(color = "#42BA97")) %>%
    add_trace(y = ~L_Ekin_rot_leg_smooth, name = "E<sub>Kin,rot,Links</sub>", mode = "lines", 
              line = list(color = "#F4737A")) %>%
    add_trace(y = ~Ekin_rot_gesamt_smooth, name = "E<sub>Kin,rot,Gesamt</sub>", mode = "lines",
              line = list(color = "darkgrey", dash = "dot")) %>%
    layout(margin = list(t = 40),
           yaxis = list(
             title = "E<sub>Kin,rot</sub> [J]", 
             dtick = 0.5, 
             range = c(0, 3.0),
             tickformat = ".1f"
           ),
           xaxis = list(
             title = "Frame", 
             dtick = 50,
             range = c(100, 800)
                     ),
          legend = list(
              x = 0.98,
              y = 0.995,
              xanchor = 'right',
              yanchor = 'top',
              orientation = 'h',
              bgcolor = "rgba(0,0,0,0)"
          ),
           annotations = list(
             list(
               x = 0.00, y = 0.98, xref = 'paper', yref = 'paper',
               text = paste("Drehzahl =", round(mean_nD_avg, 2), "U · min<sup>-1</sup>"),
               showarrow = FALSE,
               font = list(size = 12)
             )
           ))
  
  plot7 <- plot_ly(df, x = ~Frame, y = ~Ekin_HAT, type = "scatter", mode = "lines", 
                   name = "E<sub>Kin,HAT</sub>", line = list(color = "#1CADE4")) %>%
    add_trace(y = ~R_Ekin_leg_smooth, name = "E<sub>Kin,Rechts</sub>", mode = "lines", 
              line = list(color = "#42BA97")) %>%
    add_trace(y = ~L_Ekin_leg_smooth, name = "E<sub>Kin,Links</sub>", mode = "lines", 
              line = list(color = "#F4737A")) %>%
    add_trace(y = ~Ekin_gesamt_smooth, name = "E<sub>Kin,gesamt</sub>", mode = "lines",
              line = list(color = "darkgrey", dash = "dot")) %>%
    layout(margin = list(t = 40),
           yaxis = list(
             title = "E<sub>Kin</sub> [J]", 
             dtick = 5.0, 
             range = c(0, 20.0),
             tickformat = ".1f"
           ),
           xaxis = list(
             title = "Frame", 
             dtick = 50,
             range = c(100, 800)
                     ),
          legend = list(
              x = 0.98,
              y = 0.995,
              xanchor = 'right',
              yanchor = 'top',
              orientation = 'h',
              bgcolor = "rgba(0,0,0,0)"
          ),
           annotations = list(
             list(
               x = 0.00, y = 0.98, xref = 'paper', yref = 'paper',
               text = paste("Drehzahl =", round(mean_nD_avg, 2), "U · min<sup>-1</sup>"),
               showarrow = FALSE,
               font = list(size = 12)
             )
           ))
  
  plot8 <- plot_ly(df, x = ~Frame, y = ~E_gesamt, type = "scatter", mode = "lines", 
                   name = "E<sub>Gesamt</sub>", line = list(color = "#35978F")) %>%
    layout(margin = list(t = 40),
           yaxis = list(
             title = "E<sub>Gesamt</sub> [J]", 
             dtick = 20, 
             range = c(500.0, 660.0)
           ),
           xaxis = list(
             title = "Frame", 
             dtick = 50,
             range = c(100, 800)
                     ),
          legend = list(
              x = 0.98,
              y = 0.995,
              xanchor = 'right',
              yanchor = 'top',
              orientation = 'h',
              bgcolor = "rgba(0,0,0,0)"
          ),
           annotations = list(
             list(
               x = 0.00, y = 0.98, xref = 'paper', yref = 'paper',
               text = paste("Drehzahl =", round(mean_nD_avg, 2), "U · min<sup>-1</sup>"),
               showarrow = FALSE,
               font = list(size = 12)
             )
           ))
  
  # Speichere die Plots
  plotly_Pint_list[[name]] <- list(plot1, plot2, plot3, plot4, plot5, plot6, plot7, plot8)
}
```

::: notes
-   Vorteile:
    1.  Physiologisch plausiblere Ergebnisse
    2.  Erfasst die größeren Auf- und Abbewegungen des Körperschwerpunkts
    3.  Bessere Übereinstimmung mit gemessenen metabolischen Parametern
    4.  Vergleichbare Werte zwischen Steh- und Sitzposition
:::

::: footer
Link: [Website/Innere Arbeit - Winter (1979)](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html#explorativ-wint-berechnung-nach-winter1979)
:::

## E~Pot~ {.smaller .show-logo}

:::::: columns
::: {.column width="80%"}
```{r}
#| fig.height: 3.2
#| fig.width: 8.5
plotly_Pint_list[["15_6"]][[4]]
plotly_Pint_list[["15_5"]][[4]]
```
:::

::: {.column width="1%"}
:::

::: {.column width="19%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_HAT_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: footer
Link: [Website/Innere Arbeit - Winter (1979)](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html#explorativ-wint-berechnung-nach-winter1979)
:::

## E~Kin,trans~ {.smaller .show-logo}

:::::: columns
::: {.column width="80%"}
```{r}
#| fig.height: 3.2
#| fig.width: 8.5
plotly_Pint_list[["15_6"]][[5]]
plotly_Pint_list[["15_5"]][[5]]
```
:::

::: {.column width="1%"}
:::

::: {.column width="19%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_HAT_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: footer
Link: [Website/Innere Arbeit - Winter (1979)](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html#explorativ-wint-berechnung-nach-winter1979)
:::

## E~Kin,rot~ {.smaller .show-logo}

:::::: columns
::: {.column width="80%"}
```{r}
#| fig.height: 3.2
#| fig.width: 8.5
plotly_Pint_list[["15_6"]][[6]]
plotly_Pint_list[["15_5"]][[6]]
```
:::

::: {.column width="1%"}
:::

::: {.column width="19%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_HAT_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: footer
Link: [Website/Innere Arbeit - Winter (1979)](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html#explorativ-wint-berechnung-nach-winter1979)
:::

## E~Kin,gesamt~ {.smaller .show-logo}

:::::: columns
::: {.column width="80%"}
```{r}
#| fig.height: 3.2
#| fig.width: 8.5
plotly_Pint_list[["15_6"]][[7]]
plotly_Pint_list[["15_5"]][[7]]
```
:::

::: {.column width="1%"}
:::

::: {.column width="19%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_HAT_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: footer
Link: [Website/Innere Arbeit - Winter (1979)](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html#explorativ-wint-berechnung-nach-winter1979)
:::

## E~Gesamt~ {.smaller .show-logo}

:::::: columns
::: {.column width="80%"}
```{r}
#| fig.height: 3.2
#| fig.width: 8.5
plotly_Pint_list[["15_6"]][[8]]
plotly_Pint_list[["15_5"]][[8]]
```
:::

::: {.column width="1%"}
:::

::: {.column width="19%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_HAT_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

## ΔE~Gesamt~ {.smaller .show-logo}

:::::: columns
::: {.column width="80%"}
```{r}
#| fig.height: 3.2
#| fig.width: 8.5
plotly_Pint_list[["15_6"]][[2]]
plotly_Pint_list[["15_5"]][[2]]
```
:::

::: {.column width="1%"}
:::

::: {.column width="19%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_HAT_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: footer
Link: [Website/Innere Arbeit - Winter (1979)](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html#explorativ-wint-berechnung-nach-winter1979)
:::

## P~Int~ {.smaller .show-logo}

:::::: columns
::: {.column width="80%"}
```{r}
#| fig.height: 3.2
#| fig.width: 8.5
plotly_Pint_list[["15_6"]][[1]]
plotly_Pint_list[["15_5"]][[1]]
```
:::

::: {.column width="1%"}
:::

::: {.column width="19%"}
![](images/Innere%20Arbeit/kinematik_sitzen_HAT_cropped.gif){style="height: 240px; margin-top: 30px; margin-bottom: 20px;"}

![](images/Innere%20Arbeit/kinematik_stehen_HAT_cropped.gif){style="height: 240px; margin-top: 20px; margin-bottom: 20px;"}
:::
::::::

::: footer
Link: [Website/Innere Arbeit - Winter (1979)](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Innere_Arbeit.html#explorativ-wint-berechnung-nach-winter1979)
:::


## Forschungsstand {.show-logo style="font-size: 0.80em"}

::: {style="font-size: 0.92em"}
- Großteil der Wirkungsgradbestimmungen primär in sitzender Position

**Bisherige vergleichende Wirkungsgradbestimmungen:** 

- Bruttowirkungsgrad:
    - Millet et al. (2002): Sitzen 22.4% vs. Stehen 22.5% 
    - Bouillod & Pinot (2014): Sitzen 20.6% vs. Stehen 21.5% (signifikant)
    - Carlsson et al. (2024): Sitzen 21.3% vs. Stehen 21.3% vs. alternierend 21.0% 
    
- Nettowirkungsgrad:
    - Harnish et al. (2007):
        - Bei 50% P~max~: Sitzen 24.2% vs. Stehen 25.1%
        - Bei 65% P~max~: Sitzen 25.2% vs. Stehen 25.7%
        - Bei 75% P~max~: Sitzen 26.0% vs. Stehen 26.7%
        - Intensitätsabhängiger Anstieg + signifikanten Positionsunterschiede
    
:::
::: notes

:::

::: footer
Link: [Website/Radfahren im Sitzen und Stehen](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Theoretischer_Hintergrund/Sitzen_Stehen.html)
:::

## Forschungsfrage {.show-logo style="font-size: 0.85em"}

- Fokus in der Literatur auf η~Brutto~ und η~Netto~
    - Keine Integration anaerober Energieanteile
    - Vernachlässigung der inneren Arbeit im Stehen → Drehzahlabhängigkeit

**Keine empirischen Untersuchungen, die den η~muskulär~ zwischen sitzender und stehender Fahrposition systematisch vergleichen**

<br>

::: {.fragment}
**Forschungsfrage:**<br>*Wie unterscheidet sich der muskuläre Wirkungsgrad zwischen sitzender und stehender Position bei verschiedenen Intensitäten?*
:::

        
::: notes

:::

::: footer
Link: [Website/Forschungsfragen & Hypothesen](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Forschungsfragen_Hypothesen.html)
:::

## Hypothese {.show-logo style="font-size: 0.85em"}

::: {style="font-size: 0.70em; text-align: justify"}
*"Es wird erwartet, dass die Unterschiede des muskulären Wirkungsgrades zwischen den Fahrpositionen intensitätsabhängig sind. Die Annahme ist, dass sich bei leichter Belastungsintensität der muskuläre Wirkungsgrad signifikant zwischen sitzender und stehender Position unterscheidet, während bei moderater und schwerer Intensität keine signifikanten Unterschiede des muskulären Wirkungsgrades zwischen den Fahrpositionen vermutet werden."*
::: 

<br>

-   **H~0~**: Der muskuläre Wirkungsgrad (η~muskulär~) unterscheidet sich in keiner Intensitätsstufe signifikant zwischen sitzender und stehender Fahrposition.<br>➙ η~muskulär,sitzen~ = η~muskulär,stehen~
-   **H~1~**: Der muskuläre Wirkungsgrad (η~muskulär~) unterscheidet sich in mindestens einer Intensitätsstufe signifikant zwischen sitzender und stehender Fahrposition.<br>➙ η~muskulär,sitzen~ ≠ η~muskulär,stehen~

::: footer
Link: [Website/Forschungsfragen & Hypothesen](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Forschungsfragen_Hypothesen.html)
:::

## Methodik: Einschlusskriterien & Stichprobe {.show-logo style="font-size: 0.85em"}

::: {style="font-size: 0.95em"}

-   Insgesamt 24 Testpersonen\
-   11 erfüllten die Einschlusskriterien → $\dot{V}O_{2,max}$ \> 65 \[ml·min^-1^\]
-   9 Testpersonen: (2 Frauen \| 7 Männer)
-   $\dot{V}O_{2,max}$ = 3900 - 6181 \[ml·min^-1^\] \| $\dot{V}O_{2,max,relativ}$ = 67.8 - 81.3 \[ml·min^-1^·kg^-1^\]

:::


```{r}
#| warning: false
#| message: false

# Excel-Datensatz laden und darstellen
Stichprobe_df <- read_excel("Probanden_Daten 2.2.xlsm", sheet = "Stichprobe_final", range = "A1:Y10") %>%
  mutate(across(everything(), ~gsub(",", ".", .))) %>%
  mutate(across(-2, as.numeric)) %>%
  mutate(across(c(8, 10, 13, 15, 17, 19, 21, 23), ~round(., 2)))
datatable(Stichprobe_df, options = list(scrollX = TRUE, scrollY = "310px", dom = 't', order = list(list(0, 'asc')), 
                                        initComplete = JS("function(settings, json) {$(this.api().table().container()).css({'font-size': '70%'});}")), rownames = FALSE)
```

::: footer
Link: [Website/Stichprobe](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Methodik/Stichprobe.html)
:::

## Methodik: Messmethoden {.show-logo style="font-size: 0.85em"}

::: {style="font-size: 0.78em"}
-   **Anthropometrische Messungen:** Körpermasse, Körperlänge, Umfang & Durchmesser der Gliedmaßen
-   **Fahrradergometer:** Lode - Excalibur Sport
-   **Atemgasanalyse:** Cortex - MetaMax 3B
-   **Blutlaktatanalysegerät:** EKF diagnostic- Biosen S-Line Lab+
-   **Herzratenmessung:** Polar - H10
-   **3D-Kinematik Daten:** Reflektierende Marker + Vicon Vero Kameras
:::

::: footer
Link: [Website/Messmethoden](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Methodik/Messmethoden.html)
:::

::::: columns
::: {.column width="50%" style="text-align: center"}
![](./images/Innere%20Arbeit/Marker.png){height="330px"}
:::

::: {.column width="50%" style="text-align: center"}
![](./images/Lode.jpg){height="330px"}
:::
:::::

## Methodik: Testtag 1 {.show-logo style="font-size: 0.85em"}

:::::::::::: columns
::::: {.column width="33%"}
::: {style="font-size: 0.85em"}
**1. Stufentest~sitzen~**
:::

::: {style="font-size: 0.7em"}
Startlast: 60/80 \[Watt\] <br> Stufen: 15/20 \[Watt\] <br> Stufendauer: 30 \[s\]
:::
:::::

::::: {.column width="33%"}
::: {style="font-size: 0.85em"}
**2. Stufentest~stehen~**
:::

::: {style="font-size: 0.7em"}
Startlast: 150/200 \[Watt\] <br> Stufen: 15/20 \[Watt\] <br> Stufendauer: 30 \[s\]
:::
:::::

::::: {.column width="33%"}
::: {style="font-size: 0.85em"}
**3. Drehzahltest**
:::

::: {style="font-size: 0.7em"}
Start-Drehzahl: 70 \[U·min^-1^\] <br> Stufen: 5 \[U·min^-1^\] <br> Stufendauer: 30 \[s\]
:::
:::::
::::::::::::

<br>

![](./images/Versuchsablauf_1.png)

::: footer
Link: [Website/Studiendesign](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Methodik/Studiendesign.html)
:::

## Methodik: Testtag 2 {.show-logo style="font-size: 0.85em"}

:::::::::::: columns
::::: {.column width="36%"}
::: {style="font-size: 0.85em"}
**1. Leicht**
:::

::: {style="font-size: 0.7em"}
Last: $\small P_{mech,VT_1}-0.075 \cdot P_{mech,max}$ \[Watt\] <br> Dauer: 300 \[s\]
:::
:::::

::::: {.column width="30%"}
::: {style="font-size: 0.85em"}
**2. Moderat**
:::

::: {style="font-size: 0.7em"}
Last: $\small P_{mech,VT_1}$ \[Watt\] <br> Dauer: 300 \[s\]
:::
:::::

::::: {.column width="33%"}
::: {style="font-size: 0.85em"}
**3. Schwer**
:::

::: {style="font-size: 0.7em"}
Last: $\frac{P_{mech,VT_1} + P_{mech,VT_2}}{2}$ \[Watt\] <br> Dauer: 300 \[s\]
:::
:::::
::::::::::::

<br>

![](./images/Versuchsablauf_2.png) 

::: footer 
Link: [Website/Studiendesign](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Methodik/Studiendesign.html)
:::

## Methodik: Statistische Analyse {.show-logo style="font-size: 0.85em"}

::: {style="font-size: 0.80em"}
-   **Voraussetzungsprüfungen**:
    -   Shapiro-Wilk (Normalverteilung), Levene (Varianzhomogenität), Mauchly (Sphärizität)
-   **Hauptanalyse**:
    -   2x3 ANOVA mit Messwiederholung
        -   Faktor A: Körperposition (sitzen, stehen)
        -   Faktor B: Intensität (leicht, moderat, schwer)
-   **Post-hoc Tests**:
    -   Gepaarte t-Tests mit Bonferroni-Korrektur
    -   Bei Voraussetzungsverletzung: Wilcoxon-Tests
-   **Signifikanz**:
    -   ANOVA: ηp² (klein ≥ 0.01, mittel ≥ 0.06, groß ≥ 0.14)
    -   Paarvergleiche: d (trivial \< 0.2, klein ≥ 0.2, mittel ≥ 0.5, groß ≥ 0.8)
    -   Signifikanzniveau: α = .05 (\*\*\* p \< .001, \*\* p \< .01, \* p \< .05)
:::

::: footer 
Link: [Website/Statistische Analyseverfahren](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Methodik/Statistische_Analyseverfahren.html)
:::

## Ergebnisse: Bedingungen {.show-logo style="font-size: 0.85em"}

![](./images/Tabelle_ANOVA_Bed_Wirk_muskulaer.png)

::: footer
Link: [Website/Wirkungsgrad- und Stoffwechselparameter](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Ergebnisse/Wirkungsgrad_Statistik.html)
:::

## Ergebnisse: Bedingungen x Intensitäten {.show-logo style="font-size: 0.85em"}

![](./images/Tabelle_ANOVA_Bed_Int_Wirk_muskulaer.png)

::: footer
Link: [Website/Wirkungsgrad- und Stoffwechselparameter](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Ergebnisse/Wirkungsgrad_Statistik.html)
:::

## Ergebnisse: Muskulärer Wirkungsgrad {.show-logo style="font-size: 0.85em"}

::: {.columns}
::: {.column style="width: 70%"}
![](./images/Boxplots_Wirk_muskulaer.png){height="300px"}

![](./images/Tabelle_Post_hoc_Wirk_muskulaer.png){}
:::

::: {.column style="width: 30%; font-size: 0.75em"}
**Hypothesenprüfung:**


-   Signifikanter Effekt der Bedingung <br>(p = .024\*)
-   Signifikanter Effekt der Intensität <br>(p = .018\*)
-   Signifikanter Interaktionseffekt <br>(p = .003\**)
-   **H~0~ für "leicht" wird abgelehnt**
-   **H~1~ wird angenommen**
    
**Intensitätsspezifische Unterschiede:**

-   **Leicht: (p = .011\*, d = 1.36)**
-   Moderat: (p = .153, d = .76)
-   Schwer: (p = .807, d = .40)

:::
:::

::: notes
-   Größter Unterschied bei leichter Belastung
-   Effekt nimmt mit steigender Intensität ab
-   Signifikante Haupteffekte für Bedingung (p = .024) und Intensität (p = .018)
-   H~1~ wird angenommen → "η~muskulär~ unterscheidet sich in mindestens einer Intensitätsstufe signifikant zwischen den Fahrpositionen"
:::

::: footer
Link: [Website/Wirkungsgrad- und Stoffwechselparameter](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Ergebnisse/Wirkungsgrad_Statistik.html)
:::


## Muskulärer Wirkungsgrad & Gesamtwirkungsgrad {.show-logo style="font-size: 0.80em"}

::: {.columns}
::: {.column style="width: 70%"}
![](./images/Boxplots_Wirk_muskulaer.png){height="275px"}

::: {style="margin-top: -1.2em;"}
![](./images/Boxplots_Wirk_total.png){height="275px"}
:::
:::

::: {.column style="width: 30%; font-size: 0.85em"}
**Muskulärer Wirkungsgrad:**

  - Sitzen: 24.98 ± 1.06% vs. Stehen: 24.07 ± 0.96%
  - Systematischer Abfall mit steigender Intensität
  - Signifikanter Unterschied in der leichten Intensität

**Gesamtwirkungsgrad:**

  - Sitzen: 22.06 ± 0.70% vs. Stehen: 22.32 ± 1.34%
  - Systematischer Abfall im Sitzen mit steigender Intensität
  - Keine signifikanten Unterschiede
  
:::
:::

::: notes
-   Größter Unterschied bei leichter Belastung
-   Effekt nimmt mit steigender Intensität ab
-   Signifikante Haupteffekte für Bedingung (p = .024) & Intensität (p = .018)
:::

::: footer
Link: [Website/Wirkungsgrad- und Stoffwechselparameter](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Ergebnisse/Wirkungsgrad_Statistik.html)
:::

## Bruttowirkungsgrad & Nettowirkungsgrad {.show-logo style="font-size: 0.80em"}

::: {.columns}
::: {.column style="width: 73%; font-size: 0.85em"}
**Bruttowirkungsgrad:**

  - Sitzen: 22.30 ± 0.78% vs. Stehen: 22.55 ± 1.47%
  - Signifikanter Interaktionseffekt zwischen Intensität & Bedingung (p = .026\*)
  - Post-hoc Analysen: Kein signifikanter Unterschied (Schwer vs. Schwer; p = .128)
  - Signifikanten Effekt der Intensität (p = .046\*) → Anstieg mit steigender Intensität
    
    
**Nettowirkungsgrad:**

  - Sitzen: 24.81 ± 0.82% vs. Stehen: 25.07 ± 1.55%
  - Signifikanter Interaktionseffekt zwischen Intensität & Bedingung (p = .028\*)
  - Post-hoc Analysen: Kein signifikanter Unterschied (Schwer vs. Schwer; p = .148)
        
:::

::: {.column style="width: 27%; font-size: 0.90em"}
| $\eta$ |                   Berechnung                   |
|---------------|:----------------------------------------------:|
| $\eta_\text{Brutto}$     | $\frac{W_\text{mech}}{W_\text{Aerob}}$ |
| $\eta_\text{Netto}$      | $\frac{W_\text{mech}}{W_\text{Aerob} - W_\text{Ruhe}}$ |
| $\eta_\text{Total}$      | $\frac{W_\text{mech}}{W_\text{Tot} - W_\text{Ruhe}}$ |
| $\eta_\text{muskulär}$   | $\frac{W_\text{mech} + W_\text{Int}}{W_\text{Tot} - W_\text{Ruhe}}$ |
:::
:::

::: {style="font-size: 0.85em"}
::: {.fragment}
**→ Keine signifikanten Positionsunterschiede außer bei η~muskulär~**<br>
**→ Kein signifikant unterschiedlicher Energieumsatz für die absolvierte W~mech~ zw. den Positionen**
:::
:::


::: notes
-   η~Total~: Stabil über Intensitäten
-   η~Netto~: Leichter Anstieg mit Intensität
-   η~Brutto~: Signifikanter Anstieg (leicht zu schwer)
-   η~Arbeit~: Deutlicher Abfall mit Intensität
-   Alle Wirkungsgrade zeigen spezifische Intensitätsabhängigkeit
-   Tendenz, dass bei Brutto und Nettowirkungsgrad Stehen signifikant unterscheidet
:::

::: footer
Link: [Website/Wirkungsgrad- und Stoffwechselparameter](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Ergebnisse/Wirkungsgrad_Statistik.html)
:::

## Einordnung der Ergebnisse {.show-logo style="font-size: 0.85em"}

::: center
$$
\scriptsize
\text{η}_{muskulär} = \frac{\text{W}_{mech} + \text{W}_{Int}}{\text{W}_{Aerob} + \text{W}_{BLC} + \text{W}_{PCr} - \text{W}_{Ruhe}}
$$
:::


::: {style="font-size: 0.95em"}
- Keine signifikanten Unterschiede in metabolischer Arbeit (W~TOT~, W~Aerob~, W~PCr~, W~BLC~)
- Signifikant höhere mechanische Arbeit (W~mech~) im Stehen
- Signifikant höhere innere Leistung (P~Int~) im Sitzen → Kubische Drehzahlabhängigkeit 
- Signifikant höhere externe Gesamtarbeit (W~Tot~) im Sitzen
:::



![](./images/Tabelle_ANOVA_Diskussion.png){}


::: notes
- Bestätigung der intensitätsabhängigen Beziehung
- Physiologische Parameter sonst vergleichbar
:::

::: footer
Link: [Website/Diskussion](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Diskussion.html)
:::

## Einordnung der Ergebnisse {.show-logo style="font-size: 0.85em"}

::: {style="font-size: 0.95em"}
→ Unterschiede von η~muskulär~ wahrscheinlich durch P~Int~-Berechnung bedingt <br>
→ η~total~ zeigt keine signifikanten Positionsunterschiede <br>
→ Trotz unterschiedlicher Trittraten sollten P~Int~-Werte vergleichbar sein
:::
<br>

**Validität der P~Int~-Berechnung:**

::: {style="margin-top: -0.5em;"}
- Im Sitzen: Bestätigung durch Literaturwerte (Hansen et al., 2004)
- Im Stehen: 
    - Keine Referenzwerte verfügbar
    - Wahrscheinlich methodisch bedingte Unterschätzung
    - Nach Winter-Berechnungsmethode sind P~Int~-Werte im Stehen deutlich höher
    - Notwendigkeit einer methodischen Überarbeitung

:::

::: notes
- Vergleichbarkeit der Gesamtarbeit:
- Keine signifikanten Unterschiede in η~total~ und η~Brutto~, η~Netto~
- Vergleichbarer physiologischer Gesamtenergieumsatz
:::

::: footer
Link: [Website/Diskussion](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Diskussion.html)
:::

## Praktische Relevanz {.show-logo style="font-size: 0.85em"}

-   Stehen als valide Alternative zum Sitzen:
    -   Vergleichbare Wirkungsgrade (außer η~muskulär~)
    -   Ermöglicht Variation der Muskelbelastung
    -   Tendenziell minimal höhere η-Werte im Stehen
    
<br>

-  Praxisempfehlungen:
    -   Für kurzzeitige Maximalleistungen
    -   Bei niedrigen Geschwindigkeiten → Luftwiderstand ↑
    -   Vorzugsweise bei steilen Anstiegen

::: notes

:::

::: footer
Link: [Website/Diskussion](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Diskussion.html)
:::

## Methodenkritik & Limitationen {.show-logo style="font-size: 0.85em"}

::: {style="font-size: 0.91em"}

Stichprobe:

-   Geringe Stichprobengröße (N=9)
-   Unausgewogenes Geschlechterverhältnis
-   Eingeschränkte statistische Power

Methodische Aspekte:

-   Laborwerte nicht 1:1 übertragbar mehr → laterale Freiheitsgrade in der Praxis
-   Überschätzte ventilatorische Schwellen
-   "Leichte" Intensität zu hoch (73% VO~2max~)
-   Kurze Erholungszeiten (10 min)
-   Aktive statt passive Nachbelastung 
-   Trittrate während Nachbelastung nicht kontrolliert

:::

::: notes
-   Eingeschränkte Generalisierbarkeit
-   Intensitätsabstufung suboptimal
-   EPOC-Messung problematisch
:::

::: footer
Link: [Website/Diskussion](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Diskussion.html)
:::

## Ausblick {.show-logo style="font-size: 0.85em"}



:::::: columns
::: {.column width="65%"}
::: {style="font-size: 0.91em"}
**Verbesserte P~Int~-Modellierung:**

::: {style="margin-top: -0.5em;"}
- Alternative Berechnungsansätze:
    - Validierung durch Vergleiche bei definierten externen Gesamtleistungen $P_{TOT} = P_{mech} + P_{Int}$
    - Extrapolation über $\Delta\dot{V}O_{2,\text{unloaded}}$ durch absolvieren mehrere Leistungsstufen bei konstanter Trittrate
- Integration von Zusatzmessungen für das HAT-Segment:
    - Messung von Lenkerkräften zur Massenverteilungsbestimmung
    - Erfassung der Oberkörperoszillationen
    - Berücksichtigung der isometrischen Haltearbeit
- Optimierung der Segmentparameter:
    - Individuelle bildgebende Verfahren
    - Präzise anthropometrische Messungen
    
:::
:::
:::

::: {.column width="35%"}

![](images/Innere Arbeit/Hintzy-Cloutier_linear.png){}

::: {style="text-align: center"}
![](images/Innere Arbeit/kinematik_stehen_HAT_cropped.gif){style="max-height: 260px; width: auto"}
:::



:::
::::::


::: notes
:::

::: footer
Link: [Website/Diskussion](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Diskussion.html)
:::

## Ausblick {.show-logo style="font-size: 0.85em"}

::::: {.columns}
::: {.column width="65%"}
::: {style="font-size: 0.92em"}
**Weitere Forschungsaspekte:**

- Torque Efficiency & negative Leistung:
    - Zusammenhang mit Wirkungsgraden
- Ermüdungseffekte bei Leistungsspitzen:
    - Pedal Smoothness 
    - Neuromuskuläre Ermüdung
- Wärmeenergieanteil & -messung:
    - Validierung der Wirkungsgradberechnungen
    - Direkte Wirkungsgradbestimmung
    
:::
:::

::: {.column width="35%"}
![](images/Torque_Efficiency_Kreis.png){}
:::
:::::

::: notes
:::

::: footer
Link: [Website/Diskussion](https://jjrw96.github.io/Wirkungsgrad-Rad.github.io/Diskussion.html)
:::